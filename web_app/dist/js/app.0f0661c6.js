(function(e){function t(t){for(var i,n,o=t[0],l=t[1],c=t[2],d=0,_=[];d<o.length;d++)n=o[d],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&_.push(s[n][0]),s[n]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);u&&u(t);while(_.length)_.shift()();return a.push.apply(a,c||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],i=!0,n=1;n<r.length;n++){var l=r[n];0!==s[l]&&(i=!1)}i&&(a.splice(t--,1),e=o(o.s=r[0]))}return e}var i={},s={app:0},a=[];function n(e){return o.p+"js/"+({}[e]||e)+"."+{"chunk-2d216214":"02f52b64","chunk-2d216257":"6039ee9f","chunk-4361ea0f":"b5f380ee"}[e]+".js"}function o(t){if(i[t])return i[t].exports;var r=i[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(e){var t=[],r=s[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise((function(t,i){r=s[e]=[t,i]}));t.push(r[2]=i);var a,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=n(e);var c=new Error;a=function(t){l.onerror=l.onload=null,clearTimeout(d);var r=s[e];if(0!==r){if(r){var i=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+i+": "+a+")",c.name="ChunkLoadError",c.type=i,c.request=a,r[1](c)}s[e]=void 0}};var d=setTimeout((function(){a({type:"timeout",target:l})}),12e4);l.onerror=l.onload=a,document.head.appendChild(l)}return Promise.all(t)},o.m=e,o.c=i,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(r,i,function(t){return e[t]}.bind(null,i));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/roadside-forms/",o.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var u=c;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";r("85ec")},"03e0":function(e){e.exports=JSON.parse('{"24Hour":{"orientation":"l","units":"mm","format":"letter","fields":{"VIOLATION_NUMBER":{"field_type":"text","font_size":20,"start":{"x":30,"y":30}},"DRIVER_SURNAME":{"field_type":"text","font_size":12,"start":{"x":33.2,"y":38}},"DRIVER_GIVEN":{"field_type":"text","font_size":12,"start":{"x":83.2,"y":38}},"DRIVER_DL_NUMBER":{"field_type":"text","font_size":14,"start":{"x":33.2,"y":45}},"DRIVER_DL_PROVINCE":{"field_type":"text","font_size":14,"start":{"x":80,"y":45}},"DRIVER_DOB":{"field_type":"text","font_size":14,"start":{"x":103,"y":45}},"DRIVER_ADDRESS":{"field_type":"text","font_size":8,"start":{"x":33.2,"y":52}},"REASON_ALCOHOL_215":{"field_type":"checkbox","font_size":12,"start":{"x":48.8,"y":56}},"REASON_DRUGS_215":{"field_type":"checkbox","font_size":12,"start":{"x":76.7,"y":56}},"NOTICE_TIME":{"field_type":"text","font_size":12,"start":{"x":32.4,"y":72}},"NOTICE_DAY":{"field_type":"text","font_size":12,"start":{"x":64.4,"y":72}},"NOTICE_MONTH":{"field_type":"text","font_size":12,"start":{"x":84.9,"y":72}},"NOTICE_YEAR":{"field_type":"text","font_size":12,"start":{"x":116.8,"y":72}},"DL_SURRENDER_LOCATION":{"field_type":"text","font_size":8,"start":{"x":30.7,"y":89}},"OFFICER_LAST_NAME":{"field_type":"text","font_size":12,"start":{"x":30.7,"y":95}},"OFFICER_BADGE_NUMBER":{"field_type":"text","font_size":12,"start":{"x":107,"y":95}},"AGENCY_NAME":{"field_type":"text","font_size":12,"start":{"x":30.7,"y":102}},"AGENCY_FILE_NUMBER":{"field_type":"text","font_size":12,"start":{"x":92.2,"y":102}},"OWNER_NAME":{"field_type":"text","font_size":8,"start":{"x":32.4,"y":112}},"OWNER_ADDRESS":{"field_type":"text","font_size":8,"start":{"x":32.4,"y":119}},"OWNER_PROVINCE":{"field_type":"text","font_size":8,"start":{"x":102.9,"y":119}},"OWNER_POSTAL_CODE":{"field_type":"text","font_size":8,"start":{"x":115.2,"y":119}},"VEHICLE_LICENSE_NUMBER":{"field_type":"text","font_size":8,"start":{"x":32.4,"y":126}},"VEHICLE_PROVINCE":{"field_type":"text","font_size":8,"start":{"x":53.7,"y":126}},"VEHICLE_LICENSE_YEAR":{"field_type":"text","font_size":8,"start":{"x":67.6,"y":126}},"VEHICLE_TAG_NUMBER":{"field_type":"text","font_size":8,"start":{"x":79.9,"y":126}},"VEHICLE_REGISTRATION_NUMBER":{"field_type":"text","font_size":8,"start":{"x":96,"y":126}},"VEHICLE_TYPE":{"field_type":"text","font_size":8,"start":{"x":116.8,"y":126}},"VEHICLE_MAKE":{"field_type":"text","font_size":8,"start":{"x":32.4,"y":132}},"VEHICLE_MODEL":{"field_type":"text","font_size":8,"start":{"x":53.7,"y":132}},"VEHICLE_YEAR":{"field_type":"text","font_size":8,"start":{"x":69.3,"y":132}},"VEHICLE_COLOR":{"field_type":"text","font_size":8,"start":{"x":79.9,"y":132}},"VEHICLE_NSC_PUJ":{"field_type":"text","font_size":8,"start":{"x":92.2,"y":132}},"VEHICLE_NSC_NUMBER":{"field_type":"text","font_size":8,"start":{"x":104.5,"y":132}},"VEHICLE_VIN":{"field_type":"text","font_size":10,"start":{"x":32.4,"y":138}},"OWNER_PHONE_AREA_CODE":{"field_type":"text","font_size":8,"start":{"x":99.6,"y":138}},"OWNER_PHONE_NUMBER":{"field_type":"text","font_size":8,"start":{"x":107.8,"y":138}},"NOT_IMPOUNDED":{"field_type":"checkbox","font_size":12,"start":{"x":29.9,"y":145.3}},"IMPOUNDED":{"field_type":"checkbox","font_size":12,"start":{"x":29.9,"y":148.6}},"NOT_IMPOUNDED_REASON":{"field_type":"text","font_size":12,"start":{"x":66.8,"y":145.3}},"IMPOUNDED_LOT":{"field_type":"text","font_size":8,"start":{"x":78.3,"y":154}},"IMPOUNDED_ADDRESS":{"field_type":"text","font_size":8,"start":{"x":29.9,"y":158.7}},"IMPOUNDED_PHONE_AREA_CODE":{"field_type":"text","font_size":8,"start":{"x":98,"y":158.7}},"IMPOUNDED_PHONE_NUMBER":{"field_type":"text","font_size":8,"start":{"x":107,"y":158.7}},"RELEASE_LOCATION_KEYS":{"field_type":"text","font_size":8,"start":{"x":30.7,"y":174.2}},"RELEASE_LOCATION_VEHICLE":{"field_type":"text","font_size":8,"start":{"x":80.8,"y":174.2}},"RELEASE_PERSON":{"field_type":"text","font_size":8,"start":{"x":30.7,"y":179.5}},"RELEASE_DATETIME":{"field_type":"text","font_size":8,"start":{"x":106.2,"y":179.5}},"DRIVER_WITNESSED_BY_OFFICER":{"field_type":"checkbox","font_size":14,"start":{"x":144.5,"y":45.5}},"DRIVER_ADMISSION_BY_DRIVER":{"field_type":"checkbox","font_size":14,"start":{"x":185.1,"y":45.5}},"DRIVER_INDEPENDENT_WITNESS":{"field_type":"checkbox","font_size":14,"start":{"x":144.5,"y":49.9}},"DRIVER_OTHER":{"field_type":"checkbox","font_size":14,"start":{"x":185.1,"y":49.9}},"DRIVER_ADDITIONAL_INFORMATION":{"field_type":"memo","font_size":10,"start":{"x":144.5,"y":55},"max_width":110},"REASONABLE_GROUNDS_YES":{"field_type":"checkbox","font_size":14,"start":{"x":144.5,"y":92.7}},"REASONABLE_GROUNDS_NO":{"field_type":"checkbox","font_size":14,"start":{"x":157.5,"y":92.7}},"REASON_PRESCRIBED_TEST_NOT_USED":{"field_type":"text","font_size":8,"start":{"x":167.8,"y":92.7}},"REASONABLE_GROUNDS_TEST_ALCO_SENSOR":{"field_type":"checkbox","font_size":14,"start":{"x":144.5,"y":102.3}},"REASONABLE_GROUNDS_TEST_ASD_EXPIRY_DATE":{"field_type":"text","font_size":10,"start":{"x":207.4,"y":103.1}},"REASONABLE_GROUNDS_TEST_APPROVED_INSTRUMENT":{"field_type":"checkbox","font_size":14,"start":{"x":144.5,"y":107.5}},"REASONABLE_GROUNDS_TEST_APPROVED_INSTRUMENT_SPECIFY":{"field_type":"text","font_size":10,"start":{"x":190.2,"y":107.5}},"REASONABLE_GROUNDS_TEST_PHYSICAL_COORDINATION":{"field_type":"checkbox","font_size":14,"start":{"x":144.5,"y":111.9}},"REASONABLE_GROUNDS_TEST_TIME":{"field_type":"text","font_size":10,"start":{"x":160.9,"y":117}},"REASONABLE_GROUNDS_ALCOHOL_51-99":{"field_type":"checkbox","font_size":14,"start":{"x":144.5,"y":126.7}},"REASONABLE_GROUNDS_ALCOHOL_OVER_99":{"field_type":"checkbox","font_size":14,"start":{"x":168.7,"y":126.7}},"REASONABLE_GROUNDS_ALCOHOL_BAC":{"field_type":"checkbox","font_size":14,"start":{"x":195.4,"y":126.7}},"REASONABLE_GROUNDS_ALCOHOL_BAC_VALUE":{"field_type":"text","font_size":10,"start":{"x":207.4,"y":126.7}},"REASONABLE_GROUNDS_DRUG_ABILITY_TO_DRIVE_AFFECTED":{"field_type":"checkbox","font_size":14,"start":{"x":144.5,"y":136.3}},"ADSE_RESULTS":{"field_type":"text","font_size":10,"start":{"x":194.5,"y":136.3}},"PHYSICAL_TEST_SPECIFICS":{"field_type":"text","font_size":10,"start":{"x":203.1,"y":113.3}},"DRIVER_COPY":{"field_type":"label","value":"DRIVER COPY","font_size":10,"start":{"x":100,"y":199.6}},"POLICE_COPY":{"field_type":"label","value":"POLICE COPY","font_size":10,"start":{"x":100,"y":199.6}},"ILO_COPY":{"field_type":"label","value":"ILO COPY","font_size":10,"start":{"x":100,"y":199.6}},"ICBC_COPY":{"field_type":"label","value":"SEND TO ICBC","font_size":10,"start":{"x":100,"y":199.6}}},"variants":{"driver":{"pages":[{"image":{"filename":"assets/MV2634_102018_driver.png","offset_x":25,"offset_y":6,"width":223,"height":201},"show_fields":["VIOLATION_NUMBER","DRIVER_SURNAME","DRIVER_GIVEN","DRIVER_DL_NUMBER","DRIVER_DL_PROVINCE","DRIVER_DOB","DRIVER_ADDRESS","REASON_ALCOHOL_215","REASON_DRUGS_215","NOTICE_TIME","NOTICE_DAY","NOTICE_MONTH","NOTICE_YEAR","DL_SURRENDER_LOCATION","OFFICER_LAST_NAME","OFFICER_BADGE_NUMBER","AGENCY_NAME","AGENCY_FILE_NUMBER","OWNER_NAME","OWNER_ADDRESS","OWNER_PROVINCE","OWNER_POSTAL_CODE","VEHICLE_LICENSE_NUMBER","VEHICLE_PROVINCE","VEHICLE_LICENSE_YEAR","VEHICLE_TAG_NUMBER","VEHICLE_REGISTRATION_NUMBER","VEHICLE_TYPE","VEHICLE_MAKE","VEHICLE_MODEL","VEHICLE_YEAR","VEHICLE_COLOR","VEHICLE_NSC_PUJ","VEHICLE_NSC_NUMBER","VEHICLE_VIN","OWNER_PHONE_AREA_CODE","OWNER_PHONE_NUMBER","NOT_IMPOUNDED","IMPOUNDED","NOT_IMPOUNDED_REASON","IMPOUNDED_LOT","IMPOUNDED_ADDRESS","IMPOUNDED_PHONE_AREA_CODE","IMPOUNDED_PHONE_NUMBER","RELEASE_LOCATION_KEYS","RELEASE_LOCATION_VEHICLE","RELEASE_PERSON","RELEASE_DATETIME","DRIVER_COPY"]}]},"ilo":{"pages":[{"image":{"filename":"assets/MV2634_102018_driver.png","offset_x":25,"offset_y":6,"width":223,"height":201},"show_fields":["VIOLATION_NUMBER","REASON_ALCOHOL_215","REASON_DRUGS_215","NOTICE_TIME","NOTICE_DAY","NOTICE_MONTH","NOTICE_YEAR","DL_SURRENDER_LOCATION","OFFICER_LAST_NAME","OFFICER_BADGE_NUMBER","AGENCY_NAME","AGENCY_FILE_NUMBER","OWNER_NAME","VEHICLE_LICENSE_NUMBER","VEHICLE_PROVINCE","VEHICLE_LICENSE_YEAR","VEHICLE_TAG_NUMBER","VEHICLE_REGISTRATION_NUMBER","VEHICLE_TYPE","VEHICLE_MAKE","VEHICLE_MODEL","VEHICLE_YEAR","VEHICLE_COLOR","VEHICLE_NSC_PUJ","VEHICLE_NSC_NUMBER","VEHICLE_VIN","OWNER_PHONE_AREA_CODE","OWNER_PHONE_NUMBER","NOT_IMPOUNDED","IMPOUNDED","NOT_IMPOUNDED_REASON","IMPOUNDED_LOT","IMPOUNDED_ADDRESS","IMPOUNDED_PHONE_AREA_CODE","IMPOUNDED_PHONE_NUMBER","RELEASE_LOCATION_KEYS","RELEASE_LOCATION_VEHICLE","RELEASE_PERSON","RELEASE_DATETIME","ILO_COPY"]}]},"police":{"pages":[{"image":{"filename":"assets/MV2634_102018_police.png","offset_x":25,"offset_y":6,"width":223,"height":201},"show_fields":["VIOLATION_NUMBER","DRIVER_SURNAME","DRIVER_GIVEN","DRIVER_DL_NUMBER","DRIVER_DL_PROVINCE","DRIVER_DOB","DRIVER_ADDRESS","REASON_ALCOHOL_215","REASON_DRUGS_215","NOTICE_TIME","NOTICE_DAY","NOTICE_MONTH","NOTICE_YEAR","DL_SURRENDER_LOCATION","OFFICER_LAST_NAME","OFFICER_BADGE_NUMBER","AGENCY_NAME","AGENCY_FILE_NUMBER","OWNER_NAME","OWNER_ADDRESS","OWNER_PROVINCE","OWNER_POSTAL_CODE","VEHICLE_LICENSE_NUMBER","VEHICLE_PROVINCE","VEHICLE_LICENSE_YEAR","VEHICLE_TAG_NUMBER","VEHICLE_REGISTRATION_NUMBER","VEHICLE_TYPE","VEHICLE_MAKE","VEHICLE_MODEL","VEHICLE_YEAR","VEHICLE_COLOR","VEHICLE_NSC_PUJ","VEHICLE_NSC_NUMBER","VEHICLE_VIN","OWNER_PHONE_AREA_CODE","OWNER_PHONE_NUMBER","NOT_IMPOUNDED","IMPOUNDED","NOT_IMPOUNDED_REASON","IMPOUNDED_LOT","IMPOUNDED_ADDRESS","IMPOUNDED_PHONE_AREA_CODE","IMPOUNDED_PHONE_NUMBER","RELEASE_LOCATION_KEYS","RELEASE_LOCATION_VEHICLE","RELEASE_PERSON","RELEASE_DATETIME","POLICE_COPY","DRIVER_WITNESSED_BY_OFFICER","DRIVER_ADMISSION_BY_DRIVER","DRIVER_INDEPENDENT_WITNESS","DRIVER_OTHER","DRIVER_ADDITIONAL_INFORMATION","REASONABLE_GROUNDS_YES","REASONABLE_GROUNDS_NO","REASONABLE_GROUNDS_TEST_ALCO_SENSOR","REASONABLE_GROUNDS_TEST_ASD_EXPIRY_DATE","REASONABLE_GROUNDS_TEST_APPROVED_INSTRUMENT","REASONABLE_GROUNDS_TEST_APPROVED_INSTRUMENT_SPECIFY","REASONABLE_GROUNDS_TEST_PHYSICAL_COORDINATION","REASONABLE_GROUNDS_TEST_TIME","REASONABLE_GROUNDS_ALCOHOL_51-99","REASONABLE_GROUNDS_ALCOHOL_OVER_99","REASONABLE_GROUNDS_ALCOHOL_BAC","REASONABLE_GROUNDS_ALCOHOL_BAC_VALUE","REASONABLE_GROUNDS_DRUG_ABILITY_TO_DRIVE_AFFECTED","REASON_PRESCRIBED_TEST_NOT_USED","ADSE_RESULTS","PHYSICAL_TEST_SPECIFICS"]}]},"icbc":{"pages":[{"image":{"filename":"assets/MV2634_102018_police.png","offset_x":25,"offset_y":6,"width":223,"height":201},"show_fields":["VIOLATION_NUMBER","DRIVER_SURNAME","DRIVER_GIVEN","DRIVER_DL_NUMBER","DRIVER_DL_PROVINCE","DRIVER_DOB","DRIVER_ADDRESS","REASON_ALCOHOL_215","REASON_DRUGS_215","NOTICE_TIME","NOTICE_DAY","NOTICE_MONTH","NOTICE_YEAR","DL_SURRENDER_LOCATION","OFFICER_LAST_NAME","OFFICER_BADGE_NUMBER","AGENCY_NAME","AGENCY_FILE_NUMBER","OWNER_NAME","OWNER_ADDRESS","OWNER_PROVINCE","OWNER_POSTAL_CODE","VEHICLE_LICENSE_NUMBER","VEHICLE_PROVINCE","VEHICLE_LICENSE_YEAR","VEHICLE_TAG_NUMBER","VEHICLE_REGISTRATION_NUMBER","VEHICLE_TYPE","VEHICLE_MAKE","VEHICLE_MODEL","VEHICLE_YEAR","VEHICLE_COLOR","VEHICLE_NSC_PUJ","VEHICLE_NSC_NUMBER","VEHICLE_VIN","OWNER_PHONE_AREA_CODE","OWNER_PHONE_NUMBER","NOT_IMPOUNDED","IMPOUNDED","NOT_IMPOUNDED_REASON","IMPOUNDED_LOT","IMPOUNDED_ADDRESS","IMPOUNDED_PHONE_AREA_CODE","IMPOUNDED_PHONE_NUMBER","RELEASE_LOCATION_KEYS","RELEASE_LOCATION_VEHICLE","RELEASE_PERSON","RELEASE_DATETIME","ICBC_COPY","DRIVER_WITNESSED_BY_OFFICER","DRIVER_ADMISSION_BY_DRIVER","DRIVER_INDEPENDENT_WITNESS","DRIVER_OTHER","DRIVER_ADDITIONAL_INFORMATION","REASONABLE_GROUNDS_YES","REASONABLE_GROUNDS_NO","REASONABLE_GROUNDS_TEST_ALCO_SENSOR","REASONABLE_GROUNDS_TEST_ASD_EXPIRY_DATE","REASONABLE_GROUNDS_TEST_APPROVED_INSTRUMENT","REASONABLE_GROUNDS_TEST_APPROVED_INSTRUMENT_SPECIFY","REASONABLE_GROUNDS_TEST_PHYSICAL_COORDINATION","REASONABLE_GROUNDS_TEST_TIME","REASONABLE_GROUNDS_ALCOHOL_51-99","REASONABLE_GROUNDS_ALCOHOL_OVER_99","REASONABLE_GROUNDS_ALCOHOL_BAC","REASONABLE_GROUNDS_ALCOHOL_BAC_VALUE","REASONABLE_GROUNDS_DRUG_ABILITY_TO_DRIVE_AFFECTED","REASON_PRESCRIBED_TEST_NOT_USED","ADSE_RESULTS","PHYSICAL_TEST_SPECIFICS"]}]}}},"12Hour":{"orientation":"l","units":"mm","format":"letter","fields":{"VIOLATION_NUMBER":{"field_type":"text","font_size":18,"start":{"x":31,"y":28.9}},"DRIVER_SURNAME":{"field_type":"text","font_size":12,"start":{"x":33.2,"y":35.4}},"DRIVER_GIVEN":{"field_type":"text","font_size":12,"start":{"x":83.2,"y":35.4}},"DRIVER_DL_NUMBER":{"field_type":"text","font_size":14,"start":{"x":33.2,"y":42.8}},"DRIVER_DOB":{"field_type":"text","font_size":12,"start":{"x":98,"y":43}},"DRIVER_ADDRESS":{"field_type":"text","font_size":8,"start":{"x":33.2,"y":49.5}},"DRIVER_PHONE_AREA_CODE":{"field_type":"text","font_size":8,"start":{"x":32,"y":57}},"DRIVER_PHONE":{"field_type":"text","font_size":8,"start":{"x":45,"y":57}},"VEHICLE_NSC_PUJ":{"field_type":"text","font_size":8,"start":{"x":75,"y":57}},"VEHICLE_NSC_NUMBER":{"field_type":"text","font_size":8,"start":{"x":85,"y":57}},"REASON_ALCOHOL_90":{"field_type":"checkbox","font_size":12,"start":{"x":47,"y":65}},"REASON_DRUGS_90":{"field_type":"checkbox","font_size":12,"start":{"x":78,"y":65}},"NOTICE_TIME":{"field_type":"text","font_size":10,"start":{"x":34.8,"y":99}},"NOTICE_DAY":{"field_type":"text","font_size":10,"start":{"x":64.4,"y":99}},"NOTICE_MONTH":{"field_type":"text","font_size":10,"start":{"x":87,"y":99}},"NOTICE_YEAR":{"field_type":"text","font_size":10,"start":{"x":113,"y":99}},"DL_SURRENDER_LOCATION":{"field_type":"text","font_size":8,"start":{"x":30.7,"y":120.1}},"OFFICER_LAST_NAME":{"field_type":"text","font_size":12,"start":{"x":30.7,"y":128.9}},"OFFICER_BADGE_NUMBER":{"field_type":"text","font_size":12,"start":{"x":107,"y":128.9}},"AGENCY_NAME":{"field_type":"text","font_size":12,"start":{"x":30.7,"y":136.9}},"AGENCY_FILE_NUMBER":{"field_type":"text","font_size":12,"start":{"x":94.7,"y":136.9}},"VEHICLE_LICENSE_NUMBER":{"field_type":"text","font_size":8,"start":{"x":107,"y":149}},"VEHICLE_PROVINCE":{"field_type":"text","font_size":8,"start":{"x":94.7,"y":149}},"VEHICLE_LICENSE_YEAR":{"field_type":"text","font_size":8,"start":{"x":33.2,"y":149}},"VEHICLE_MAKE":{"field_type":"text","font_size":8,"start":{"x":43,"y":149}},"VEHICLE_MODEL":{"field_type":"text","font_size":8,"start":{"x":60,"y":149}},"VEHICLE_YEAR":{"field_type":"text","font_size":8,"start":{"x":30.7,"y":149}},"VEHICLE_COLOR":{"field_type":"text","font_size":8,"start":{"x":77,"y":149}},"IMPOUNDED_LOT":{"field_type":"text","font_size":8,"start":{"x":30.7,"y":169.2}},"IMPOUNDED_ADDRESS":{"field_type":"text","font_size":10,"start":{"x":30.7,"y":163.1}},"IMPOUNDED_PHONE_AREA_CODE":{"field_type":"text","font_size":8,"start":{"x":103,"y":169.2}},"IMPOUNDED_PHONE_NUMBER":{"field_type":"text","font_size":8,"start":{"x":110,"y":169.2}},"RELEASE_LOCATION_KEYS":{"field_type":"text","font_size":8,"start":{"x":30.7,"y":155.8}},"RELEASE_LOCATION_VEHICLE":{"field_type":"text","font_size":8,"start":{"x":30.7,"y":163}},"RELEASE_PERSON":{"field_type":"text","font_size":8,"start":{"x":30.7,"y":169.5}},"RELEASE_DATETIME":{"field_type":"text","font_size":8,"start":{"x":98,"y":176}},"DRIVER_COPY":{"field_type":"label","value":"DRIVER COPY","font_size":10,"start":{"x":90,"y":199.5}},"POLICE_COPY":{"field_type":"label","value":"POLICE COPY","font_size":10,"start":{"x":90,"y":199.5}},"ICBC_COPY":{"field_type":"label","value":"SEND TO ICBC","font_size":10,"start":{"x":90,"y":199.5}}},"variants":{"driver":{"pages":[{"image":{"filename":"assets/MV2906_102018.png","offset_x":25,"offset_y":0,"width":223,"height":201},"show_fields":["VIOLATION_NUMBER","DRIVER_SURNAME","DRIVER_GIVEN","DRIVER_DL_NUMBER","DRIVER_DOB","DRIVER_ADDRESS","DRIVER_PHONE_AREA_CODE","DRIVER_PHONE","REASON_ALCOHOL_90","REASON_DRUGS_90","NOTICE_TIME","NOTICE_DAY","NOTICE_MONTH","NOTICE_YEAR","DL_SURRENDER_LOCATION","OFFICER_LAST_NAME","OFFICER_BADGE_NUMBER","AGENCY_NAME","AGENCY_FILE_NUMBER","VEHICLE_LICENSE_NUMBER","VEHICLE_PROVINCE","VEHICLE_LICENSE_YEAR","VEHICLE_MAKE","VEHICLE_MODEL","VEHICLE_YEAR","VEHICLE_COLOR","VEHICLE_NSC_PUJ","VEHICLE_NSC_NUMBER","IMPOUNDED_LOT","IMPOUNDED_ADDRESS","IMPOUNDED_PHONE_AREA_CODE","IMPOUNDED_PHONE_NUMBER","RELEASE_LOCATION_KEYS","RELEASE_LOCATION_VEHICLE","RELEASE_PERSON","RELEASE_DATETIME","DRIVER_COPY"]}]},"police":{"pages":[{"image":{"filename":"assets/MV2906_102018.png","offset_x":25,"offset_y":0,"width":223,"height":201},"show_fields":["VIOLATION_NUMBER","DRIVER_SURNAME","DRIVER_GIVEN","DRIVER_DL_NUMBER","DRIVER_DOB","DRIVER_ADDRESS","DRIVER_PHONE_AREA_CODE","DRIVER_PHONE","REASON_ALCOHOL_90","REASON_DRUGS_90","NOTICE_TIME","NOTICE_DAY","NOTICE_MONTH","NOTICE_YEAR","DL_SURRENDER_LOCATION","OFFICER_LAST_NAME","OFFICER_BADGE_NUMBER","AGENCY_NAME","AGENCY_FILE_NUMBER","VEHICLE_LICENSE_NUMBER","VEHICLE_PROVINCE","VEHICLE_LICENSE_YEAR","VEHICLE_MAKE","VEHICLE_MODEL","VEHICLE_YEAR","VEHICLE_COLOR","VEHICLE_NSC_PUJ","VEHICLE_NSC_NUMBER","IMPOUNDED_LOT","IMPOUNDED_ADDRESS","IMPOUNDED_PHONE_AREA_CODE","IMPOUNDED_PHONE_NUMBER","RELEASE_LOCATION_KEYS","RELEASE_LOCATION_VEHICLE","RELEASE_PERSON","RELEASE_DATETIME","POLICE_COPY"]}]},"icbc":{"pages":[{"image":{"filename":"assets/MV2906_102018.png","offset_x":25,"offset_y":0,"width":223,"height":201},"show_fields":["VIOLATION_NUMBER","DRIVER_SURNAME","DRIVER_GIVEN","DRIVER_DL_NUMBER","DRIVER_DOB","DRIVER_ADDRESS","DRIVER_PHONE_AREA_CODE","DRIVER_PHONE","REASON_ALCOHOL_90","REASON_DRUGS_90","NOTICE_TIME","NOTICE_DAY","NOTICE_MONTH","NOTICE_YEAR","DL_SURRENDER_LOCATION","OFFICER_LAST_NAME","OFFICER_BADGE_NUMBER","AGENCY_NAME","AGENCY_FILE_NUMBER","VEHICLE_LICENSE_NUMBER","VEHICLE_PROVINCE","VEHICLE_LICENSE_YEAR","VEHICLE_MAKE","VEHICLE_MODEL","VEHICLE_YEAR","VEHICLE_COLOR","VEHICLE_NSC_PUJ","VEHICLE_NSC_NUMBER","IMPOUNDED_LOT","IMPOUNDED_ADDRESS","IMPOUNDED_PHONE_AREA_CODE","IMPOUNDED_PHONE_NUMBER","RELEASE_LOCATION_KEYS","RELEASE_LOCATION_VEHICLE","RELEASE_PERSON","RELEASE_DATETIME","ICBC_COPY"]}]}}}}')},"1f68":function(e,t,r){"use strict";r.r(t);var i=r("5530"),s=(r("4d63"),r("c607"),r("ac1f"),r("2c3e"),r("25f0"),r("00b4"),r("466d"),r("7f45")),a=r.n(s),n=r("7bb1"),o=r("4c93"),l=r("630a");Object(n["c"])("inCities",Object(i["a"])(Object(i["a"])({},o["b"]),{},{message:"Not a city in the list"})),Object(n["c"])("max",Object(i["a"])(Object(i["a"])({},o["a"]),{},{message:"Too many characters"})),Object(n["c"])("bcdlNumberRule",{validate:function(e){var t=new RegExp(/^(\d{7})$/);return{valid:t.test(e)}},message:"BCDL numbers must have 7 digits"}),Object(n["c"])("required",{validate:function(e){return{required:!0,valid:-1===["",null,void 0].indexOf(e)}},message:"This field is required",computesRequired:!0}),Object(n["c"])("validDt",{validate:function(e){return{required:!0,valid:a()(e,"YYYYMMDD",!0).isValid()}},message:"That's not a valid date"}),Object(n["c"])("validTime",{validate:function(e){return{required:!0,valid:a()(e,"HHmm",!0).isValid()}},message:"That's not a valid time"}),Object(n["c"])("notFutureDateTime",{params:["relatedDate"],validate:function(e,t){var r=t.relatedDate,i=a.a.tz(r+" "+e,"YYYYMMDD HHmm",!0,l["a"].TIMEZONE);return{valid:a()().diff(i,"minutes")>=0}},hasTarget:!0,message:"Date and time cannot be in the future"}),Object(n["c"])("notExpiredDt",{validate:function(e){return{required:!0,valid:a()().diff(a()(e,"YYYYMMDD",!0),"days")<=0}},message:"Expired"}),Object(n["c"])("notFutureDt",{validate:function(e){var t=a.a.tz(e+" 0000","YYYYMMDD HHmm",!0,l["a"].TIMEZONE);return{required:!0,valid:a()().diff(t,"minutes")>0}},message:"Cannot be future dated"}),Object(n["c"])("notGtYearAgo",{validate:function(e){return{required:!0,valid:a()().diff(a()(e,"YYYYMMDD",!0),"days")<364}},message:"That's over a year ago"}),Object(n["c"])("dob",{validate:function(e){var t=a()(e,"YYYYMMDD",!0),r=a()().diff(t,"years");return{required:!0,valid:r>=10&&r<=120}},message:"Driver must be between 16 and 120 years old"}),Object(n["c"])("notBeforeCareDateTime",{params:["careDate","careTime","relatedDate"],validate:function(e,t){var r=t.careDate,i=t.careTime,s=t.relatedDate,n=a.a.tz(r+" "+i,"YYYYMMDD HHmm",!0,l["a"].TIMEZONE),o=a.a.tz(s+" "+e,"YYYYMMDD HHmm",!0,l["a"].TIMEZONE);return{valid:n.diff(o,"minutes")<=0}},hasTarget:!0,message:"Cannot be before care or control date / time"}),Object(n["c"])("bac_result",{validate:function(e){return{required:!0,valid:e>=1&&e<999}},message:"BAC results must be between 1 and 999"}),Object(n["c"])("plate_year",{validate:function(e){return{required:!0,valid:e=e<=parseInt(a()().format("YYYY"))+1}},message:"Plate year must be between 2000 and the current year"}),Object(n["c"])("phone",{validate:function(e){var t=!1,r=e.match("^[0-9]{10}$");return Array.isArray(r)&&(t=r[0]===e),{valid:t}},message:"Phone number format ##########"}),Object(n["c"])("lt25",{validate:function(e){return{valid:e.length<=25}},message:"too long; must be less 25 chars"}),Object(n["c"])("lt5",{validate:function(e){return{valid:e.length<=5}},message:"Value must be less than 5 chars"}),Object(n["c"])("lt3",{validate:function(e){return{valid:e.length<3}},message:"Value must be less than 3 chars"}),Object(n["c"])("lt4",{validate:function(e){return{valid:e.length<5}},message:"Value must be than 5 chars"}),Object(n["c"])("vehicleYear",{validate:function(e){return{required:!0,valid:a()(e,"YYYY",!0).isValid()}},message:"That's not a valid year"}),Object(n["c"])("vehicleYear",{validate:function(e){var t=a()().diff(a()(e,"YYYY",!0),"years");return{required:!0,valid:t>-2&&e>1900}},message:"That's not a valid year"})},"41bf":function(e,t,r){},4678:function(e,t,r){var i={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf755","./tlh.js":"cf755","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=a(e);return r(t)}function a(e){if(!r.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}s.keys=function(){return Object.keys(i)},s.resolve=a,e.exports=s,s.id="4678"},"56d7":function(e,t,r){"use strict";r.r(t);var i,s,a,n,o,l,c=r("1da1"),d=(r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("96cf"),r("a026")),u=r("2f62"),_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card border-0 ml-4 mr-4",attrs:{id:"app"}},[r("div",{staticClass:"card-header",attrs:{id:"roadsafety-header"}},[r("div",{staticClass:"d-flex justify-content-between"},[r("a",{attrs:{href:""+e.publicPath,id:"home"}},[r("img",{attrs:{width:"300px",src:e.publicPath+"assets/BCID_RoadSafetyBC_logo_transparent.png"}})]),r("div",{staticClass:"d-flex align-items-end flex-column"},[r("div",{staticClass:"font-weight-bold text-warning"},[e._v(" PILOT "),r("span",{staticClass:"text-light small"},[e._v(e._s(e.getAppVersion))])]),r("div",{staticClass:"mt-auto small"},[e.isUserAnAdmin?r("router-link",{staticClass:"text-white font-weight-bold",attrs:{to:"/admin",id:"admin"}},[r("span",[e._v("Admin")])]):e._e(),!e.isUserAnAdmin&&e.isUserAuthenticated?r("span",[e._v("User")]):e._e(),e._v(" "+e._s(e.getKeycloakUsername)+" ")],1)])])]),e.isDisplayNotLoggedInBanner?r("not-logged-in-banner"):e._e(),r("div",{staticClass:"card-body"},[e.$store.state.isOnline?e._e():r("offline-banner"),r("router-view"),r("debug-component")],1)],1)},m=[],f=r("5530"),p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card-header bg-secondary text-left small pt-1 pb-1"},[r("div",{staticClass:"d-flex justify-content-between align-items-center"},[e._m(0),r("div",[r("router-link",{staticClass:"text-white font-weight-bold",attrs:{to:"/login"}},[r("div",{staticClass:"btn btn-primary btn-sm m-0"},[e._v("Login")])])],1)])])},E=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("span",{staticClass:"font-weight-bold"},[e._v("Not logged in")]),e._v(". Driver's licence and vehicle licence plate lookups are not available. ")])}],b={name:"offline-banner",computed:Object(f["a"])({},Object(u["c"])(["isUserAuthenticated"]))},h=b,g=r("2877"),v=Object(g["a"])(h,p,E,!1,null,null,null),O=v.exports,y=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},A=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"alert alert-warning"},[r("span",{staticClass:"font-weight-bold"},[e._v("Network off-line")]),e._v(" Driver's licence and vehicle licence plate lookups are not available. ")])}],R={name:"offline-banner"},C=R,N=Object(g["a"])(C,y,A,!1,null,null,null),D=N.exports,I=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card-footer bg-transparent border-0 text-muted small"},[e._v("Version: "+e._s(e.getAppVersion)+" "),r("span",{staticClass:"small text-muted",on:{click:e.toggleVisible}},[e._v("*")]),e.showDetails?r("div",{staticClass:"small text-muted"},[r("div",[e._v("isUserHasAtLeastOneFormId: "+e._s(e.isUserHasAtLeastOneFormId))]),r("div",[e._v("getArrayOfCommonCarColors.length: "+e._s(e.getArrayOfCommonCarColors.length))]),r("div",[e._v("isUserAuthenticated: "+e._s(e.isUserAuthenticated))]),r("div",[e._v("isUserAuthorized: "+e._s(e.isUserAuthorized))]),r("div",[e._v("state.isOnline: "+e._s(e.$store.state.isOnline))]),r("div",[e._v("state.keycloak.ready: "+e._s(e.$store.state.keycloak.ready))]),r("div",[e._v("state.keycloak.authenticated: "+e._s(e.$store.state.keycloak.authenticated))])]):e._e()])},x=[],S={name:"debugComponent",data:function(){return{showDetails:!1}},methods:{toggleVisible:function(){this.showDetails=!this.showDetails}},computed:Object(f["a"])({},Object(u["c"])(["getAppVersion","isUserAuthenticated","isUserAuthorized","getArrayOfCommonCarColors","isUserHasAtLeastOneFormId","getCurrentlyEditedFormObject","getFormData","isDisplayFeedbackBanner","isDisplayIssueProhibitions","isDisplaySearchRecentProhibition","isDisplayUserNotAuthorizedBanner","isDisplayWelcomeLoginCard","isRecentProhibitions"]))},T=S,w=Object(g["a"])(T,I,x,!1,null,"6beb06aa",null),L=w.exports,P={name:"App",components:{DebugComponent:L,NotLoggedInBanner:O,OfflineBanner:D},computed:Object(f["a"])({},Object(u["c"])(["getAppVersion","getKeycloakUsername","isUserAnAdmin","isUserAuthenticated","isDisplayNotLoggedInBanner"])),data:function(){return{publicPath:"/roadside-forms/"}}},V=P,j=(r("034f"),Object(g["a"])(V,_,m,!1,null,null,null)),F=j.exports,U=r("5f5b"),k=r("dbbe"),M=r("b1e0"),B=r("7bb1"),H=r("4cc4"),Y=r.n(H),G=(r("d3b7"),r("ac1f"),r("5319"),r("8c4f")),z=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.isDisplayUserNotAuthorizedBanner?r("user-not-permitted-banner"):e._e(),e.isDisplayWelcomeLoginCard?r("welcome-login-card"):e._e(),e.isDisplayIssueProhibitions?r("issue-prohibitions"):e._e(),e.isRecentProhibitions?r("recent-prohibitions"):e._e(),e.isDisplayFeedbackBanner?r("feedback-welcome"):e._e()],1)},q=[],$=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card-deck"},e._l(e.allForms,(function(e){return r("prohibition-card",{key:e.short_name,attrs:{form:e}})})),1)},W=[],J=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card border-light bg-secondary"},[r("div",{staticClass:"card-header text-white text-left font-weight-bold small pl-3 pt-1 pb-1 bg-primary"},[e._v(" "+e._s(e.form.full_name)+" ")]),r("div",{staticClass:"card-body bg-light"},[r("p",{staticClass:"card-text text-dark"},[e._v(e._s(e.form.description))]),r("p",{staticClass:"card-text"},[r("small",{staticClass:"text-muted"},[e._v(" IDs available: "+e._s(e.getFormTypeCount[e.form.form_type])+" ")])]),r("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:!e.isFormAvailable,id:e.form.full_name}},[e.isFormAvailable?r("router-link",{staticClass:"text-white",attrs:{to:{name:e.form.form_type,params:{id:e.getNextAvailableUniqueIdByType(e.form.form_type)}}}},[e._v(" New "+e._s(e.form.label)+" Form ")]):e._e(),e.isFormAvailable?e._e():r("span",[e._v("New "+e._s(e.form.form_type)+" Form")])],1)])])},K=[],Z={name:"ProhibitionCard",props:{form:{}},computed:Object(f["a"])(Object(f["a"])({},Object(u["c"])(["getFormTypeCount","getNextAvailableUniqueIdByType"])),{},{isFormAvailable:function(){return this.getFormTypeCount[this.form.form_type]>0&&!this.form.disabled}})},X=Z,Q=Object(g["a"])(X,J,K,!1,null,null,null),ee=Q.exports,te={name:"IssueProhibitions",data:function(){return{selected_form:{short_name:null,full_name:null}}},methods:{serveForm:function(){this.$store.commit("setFormToServe",this.selected_form)}},computed:{allForms:function(){return this.$store.getters.getAllAvailableForms}},components:{ProhibitionCard:ee}},re=te,ie=Object(g["a"])(re,$,W,!1,null,"0f8da09c",null),se=ie.exports,ae=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card mt-3 bg-light border-light pt-1 pb-1"},[r("div",{staticClass:"card-body"},[r("p",{staticClass:"card-text text-dark"},[e._v("We'd welcome your suggestions for how to improve this app.")]),r("p",{staticClass:"card-text"},[r("small",{staticClass:"text-muted"},[e._v("Contact us at: "+e._s(e.getRoadSafetyEmailAddress))])])])])},ne=[],oe=r("630a"),le={name:"FeedbackWelcome",computed:{getRoadSafetyEmailAddress:function(){return oe["a"].ROAD_SAFETY_CONTACT+"@gov.bc.ca"}}},ce=le,de=Object(g["a"])(ce,ae,ne,!1,null,null,null),ue=de.exports,_e=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card w-100 mt-3 mb-3"},[r("div",{staticClass:"card-header text-white text-left font-weight-bold small pl-3 pt-1 pb-1 bg-primary"},[e._v(" Recent Prohibitions ")]),r("div",{staticClass:"card-body text-left pb-1"},[r("table",{staticClass:"table table-striped"},[r("tbody",e._l(e.getAllEditedForms,(function(e,t){return r("recent-prohibition-row",{key:t,attrs:{prohibition:e}})})),1)])])])},me=[],fe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.prohibition?r("tr",[r("td",[e._v(" "+e._s(e.prohibition.data.last_name)+", "+e._s(e.prohibition.data.first_name)+" ("+e._s(e.prohibition.data.drivers_number)+") ")]),r("td",[e._v(e._s(e.prohibition.form_type))]),r("td",[e._v(e._s(e.getServedStatus(e.prohibition)))]),r("td",[r("span",{staticClass:"text-muted text-secondary"},[e._v(e._s(e.prohibition.form_id))])]),r("td",[e.isFormEditable(e.prohibition)?r("h6",[r("b-icon-trash",{attrs:{variant:"danger"},on:{click:function(t){return e.deleteSpecificForm(e.prohibition)}}}),e._v("  "),r("router-link",{attrs:{to:{name:e.prohibition.form_type,params:{id:e.prohibition.form_id}}}},[r("b-icon-pen",{attrs:{variant:"primary"}})],1)],1):e._e(),e.isFormEditable(e.prohibition)?e._e():r("div",{staticClass:"btn btn-primary small",on:{click:e.triggerPrint}},[e._v(" Print again "),e.display_spinner?r("b-spinner",{attrs:{small:"",label:"Loading..."}}):e._e()],1)])]):e._e()},pe=[],Ee={name:"RecentProhibitionRow",props:{prohibition:{}},data:function(){return{display_spinner:!1}},computed:Object(f["a"])({},Object(u["c"])(["isFormEditable","getServedStatus"])),methods:Object(f["a"])(Object(f["a"])(Object(f["a"])({},Object(u["d"])(["editExistingForm"])),Object(u["b"])(["deleteSpecificForm","saveFormAndGeneratePDF"])),{},{triggerPrint:function(){var e=this;console.log("inside triggerPrint()",this.display_spinner,this.prohibition),this.display_spinner=!0,this.saveFormAndGeneratePDF(this.prohibition).then((function(t){console.log("form generated successfully",t),e.display_spinner=!1})).catch((function(t){console.log("form did not generate successfully",t),e.display_spinner=!1}))}})},be=Ee,he=Object(g["a"])(be,fe,pe,!1,null,null,null),ge=he.exports,ve={name:"RecentProhibitions",computed:Object(f["a"])({},Object(u["c"])(["getAllEditedForms"])),components:{RecentProhibitionRow:ge}},Oe=ve,ye=Object(g["a"])(Oe,_e,me,!1,null,"ddd15406",null),Ae=ye.exports,Re=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card bg-light border-secondary mb-3"},[r("div",{staticClass:"card-body text-dark"},[r("span",{staticClass:"font-weight-bold"},[e._v("Welcome!")]),e._v(" It looks like you haven't used this app before."),r("br"),r("span",{staticClass:"small"},[e._v("Until you're authorized, this app is disabled. "),e.hasUserApplied?e._e():r("span",{staticClass:"text-secondary",on:{click:function(t){e.showApplication=!e.showApplication}}},[e._v(" "+e._s(this.showApplicationLabel)+" ")])]),e.showApplication&&!e.hasUserApplied?r("div",{staticClass:"d-flex justify-content-center mt-2"},[r("div",{staticClass:"form-row pl-2"},[r("application-field",{attrs:{id:"first_name",errors:e.errors},on:{modified:e.modified_event}},[e._v("First Name")])],1),r("div",{staticClass:"form-row pl-2"},[r("application-field",{attrs:{id:"last_name",errors:e.errors},on:{modified:e.modified_event}},[e._v("Last Name")])],1),r("div",{staticClass:"form-row pl-2"},[r("application-field",{attrs:{id:"badge_number",errors:e.errors},on:{modified:e.modified_event}},[e._v("Badge Number")])],1),r("div",{staticClass:"form-row pl-2"},[r("application-field",{attrs:{id:"agency",errors:e.errors},on:{modified:e.modified_event}},[e._v("Agency")]),r("button",{staticClass:"btn btn-secondary",on:{click:e.dispatchUnlock}},[e._v(" Apply "),e.showSpinner?r("b-spinner",{attrs:{small:""}}):e._e()],1)],1)]):e._e(),e.hasUserApplied?r("div",{staticClass:"text-muted small"},[e._v(" Waiting for the administrator to unlock ")]):e._e()])])},Ce=[],Ne=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.visible?r("div",{staticClass:"form-group",class:e.fg_class},[e.show_label?r("label",{attrs:{for:e.id}},[e._t("default")],2):e._e(),r("input",{directives:[{name:"model",rawName:"v-model",value:e.attribute,expression:"attribute"}],staticClass:"form-control",class:e.localErrors.length>0?"border-danger bg-warning":"",attrs:{type:"text",id:e.id,disabled:e.disabled,placeholder:e.placeholder},domProps:{value:e.attribute},on:{change:e.modified,input:function(t){t.target.composing||(e.attribute=t.target.value)}}}),r("div",{staticClass:"small text-danger"},[e._v(e._s(e.localErrors[0]))])]):e._e()},De=[],Ie={name:"ApplicationField",data:function(){return{attribute:""}},props:{disabled:{default:!1,type:Boolean},errors:[],fg_class:String,id:String,placeholder:String,show_label:{type:Boolean,default:!0},visible:{type:Boolean,default:!0}},computed:{localErrors:function(){return this.id in this.errors?this.errors[this.id]:[]}},methods:{modified:function(){d["default"].set(this.errors,this.id,[]),this.$emit("modified",{id:this.id,value:this.attribute})}}},xe=Ie,Se=Object(g["a"])(xe,Ne,De,!1,null,null,null),Te=Se.exports,we={name:"UserNotPermittedBanner",data:function(){return{errors:{first_name:[],last_name:[],badge_number:[],agency:[]},application:{first_name:"",last_name:"",badge_number:"",agency:this.$store.getters.getAgencyName},showApplication:!1,showSpinner:!1}},methods:Object(f["a"])(Object(f["a"])({},Object(u["b"])(["applyToUnlockApplication"])),{},{dispatchUnlock:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.showSpinner=!0,t.next=3,e.applyToUnlockApplication(e.application).then((function(){e.showSpinner=!1,e.showApplication=!1})).catch((function(t){t.then((function(t){console.log("applyToUnlockApplication failed",t.errors),d["default"].set(e,"errors",t.errors)})),e.showApplication=!0,e.showSpinner=!1}));case 3:case"end":return t.stop()}}),t)})))()},modified_event:function(e){console.log(e),d["default"].set(this.application,e["id"],e["value"])}}),computed:Object(f["a"])(Object(f["a"])({},Object(u["c"])(["getKeycloakUsername","hasUserApplied","getAgencyName"])),{},{showApplicationLabel:function(){return this.showApplication?"Hide":"Unlock"}}),components:{ApplicationField:Te}},Le=we,Pe=(r("a30e"),Object(g["a"])(Le,Re,Ce,!1,null,null,null)),Ve=Pe.exports,je=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card bg-light border-secondary mb-3"},[r("div",{staticClass:"card-body text-dark"},[r("span",{staticClass:"font-weight-bold"},[e._v("Welcome!")]),e._v(" Please log in to get started. "),r("router-link",{staticClass:"font-weight-bold",attrs:{to:"/login"}},[r("div",{staticClass:"btn btn-primary"},[e._v("Login")])])],1)])},Fe=[],Ue={name:"WelcomeLoginCard"},ke=Ue,Me=Object(g["a"])(ke,je,Fe,!1,null,"644780b0",null),Be=Me.exports,He={name:"Home",components:{WelcomeLoginCard:Be,UserNotPermittedBanner:Ve,RecentProhibitions:Ae,FeedbackWelcome:ue,IssueProhibitions:se},computed:Object(f["a"])({},Object(u["c"])(["isUserHasAtLeastOneFormId","getArrayOfCommonCarColors","isRecentProhibitions","getFormData","isDisplayIssueProhibitions","getCurrentlyEditedFormObject","isDisplayUserNotAuthorizedBanner","isDisplayFeedbackBanner","isDisplaySearchRecentProhibition","isDisplayWelcomeLoginCard"]))},Ye=He,Ge=Object(g["a"])(Ye,z,q,!1,null,"0921dd99",null),ze=Ge.exports,qe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isUserAnAdmin?r("div",{staticClass:"card w-100 mt-3 mb-3"},[r("div",{staticClass:"card-header text-white text-left font-weight-bold small pl-3 pt-1 pb-1 bg-primary"},[e._v(" User Roles ")]),r("div",{staticClass:"card-body text-left pb-1"},[r("table",{staticClass:"table table-striped"},[r("tbody",[e._m(0),e._l(e.getAllUsers,(function(e,t){return r("admin-user-role",{key:t,attrs:{user:e}})}))],2)])]),r("add-user-role")],1):e._e()},$e=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",[r("th",[e._v("First")]),r("th",[e._v("Last")]),r("th",[e._v("Badge")]),r("th",[e._v("Agency")]),r("th",[e._v("Username")]),r("th",[e._v("Role")]),r("th",[e._v("Submitted Date")]),r("th",{attrs:{colspan:"2"}},[e._v("Action")])])}],We=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",[r("td",{staticClass:"small"},[e._v(e._s(e.user.first_name))]),r("td",{staticClass:"small"},[e._v(e._s(e.user.last_name))]),r("td",{staticClass:"small"},[e._v(e._s(e.user.badge_number))]),r("td",{staticClass:"small"},[e._v(e._s(e.user.agency))]),r("td",{staticClass:"small"},[e._v(e._s(e.user.username))]),r("td",[r("h2",{staticClass:"badge badge-secondary"},[e._v(e._s(e.user.role_name))])]),r("td",{staticClass:"text-muted small"},[e._v(e._s(e.submittedDate)+" Pacific Time")]),r("td",[e.isApproved?e._e():r("button",{staticClass:"btn-success btn btn-sm",on:{click:e.triggerApproveUserRole}},[e._v(" Approve "),e.approveSpinner?r("b-spinner",{attrs:{small:""}}):e._e()],1)]),r("td",[e.isApproved?r("button",{staticClass:"btn-danger btn btn-sm",on:{click:e.triggerDeleteUserRole}},[e._v(" Delete "),e.deleteSpinner?r("b-spinner",{attrs:{small:""}}):e._e()],1):e._e()])])},Je=[],Ke=r("7f45"),Ze=r.n(Ke),Xe={name:"AdminUserRole",data:function(){return{approveSpinner:!1,deleteSpinner:!1}},props:{user:{first_name:"",last_name:"",badge_number:"",user_guid:"",username:{},role_name:{},approved_dt:{},submitted_dt:{}}},computed:Object(f["a"])(Object(f["a"])({},Object(u["c"])(["isUserAnAdmin","getAllUsers"])),{},{isApproved:function(){return this.user.approved_dt},submittedDate:function(){return Ze()(this.user.submitted_dt).tz("UTC").format("YYYY-MM-DD HH:mm")}}),methods:Object(f["a"])(Object(f["a"])({},Object(u["b"])(["adminApproveUserRole","adminDeleteUserRole"])),{},{triggerApproveUserRole:function(){var e=this;this.approveSpinner=!0,this.adminApproveUserRole(this.user).then((function(){e.approveSpinner=!1})).catch((function(){e.approveSpinner=!1}))},triggerDeleteUserRole:function(){var e=this;this.deleteSpinner=!0;var t={user_guid:this.user.user_guid,role_name:this.user.role_name};this.adminDeleteUserRole(t).then((function(){e.deleteSpinner=!1})).catch((function(){e.deleteSpinner=!1}))}})},Qe=Xe,et=Object(g["a"])(Qe,We,Je,!1,null,"3dbbd724",null),tt=et.exports,rt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card-body text-left form-group"},[r("label",{staticClass:"small",attrs:{for:"username"}},[e._v("Add an admin user")]),r("div",{staticClass:"input-group mb-3"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.newUser,expression:"newUser"}],staticClass:"form-control",attrs:{id:"username"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.newUser=t.target.multiple?r:r[0]}}},e._l(e.getAllUsers,(function(t,i){return r("option",{key:i,domProps:{value:t}},[e._v(" "+e._s(t.username)+" ")])})),0),r("div",{staticClass:"input-group-append"},[r("div",{staticClass:"btn-secondary btn btn-sm pt-2",on:{click:e.triggerAddUserRole}},[e._v(" Add "),e.showSpinner?r("b-spinner",{attrs:{small:""}}):e._e()],1)])])])},it=[],st={name:"AddUserRole",data:function(){return{showSpinner:!1,newUser:{}}},computed:Object(f["a"])({},Object(u["c"])(["isUserAnAdmin","getAllUsers"])),methods:Object(f["a"])(Object(f["a"])({},Object(u["b"])(["adminAddUserRole"])),{},{triggerAddUserRole:function(){var e=this;this.showSpinner=!0,this.adminAddUserRole(this.newUser).then((function(){e.showSpinner=!1,e.newUser={}})).catch((function(){e.showSpinner=!1,e.newUser={}}))}})},at=st,nt=Object(g["a"])(at,rt,it,!1,null,"d34b4ab2",null),ot=nt.exports,lt={name:"Admin",computed:Object(f["a"])({},Object(u["c"])(["isUserAnAdmin","getAllUsers"])),methods:Object(f["a"])({},Object(u["b"])(["fetchStaticLookupTables"])),created:function(){this.fetchStaticLookupTables({resource:"users",admin:!0,static:!1})},components:{AddUserRole:ot,AdminUserRole:tt}},ct=lt,dt=Object(g["a"])(ct,qe,$e,!1,null,"73705d06",null),ut=dt.exports,_t=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card w-100 mt-3 mb-3"},[e._v(" You are logged in ")])},mt=[],ft={name:"Login"},pt=ft,Et=Object(g["a"])(pt,_t,mt,!1,null,null,null),bt=Et.exports,ht=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isMounted?r("form-container",{attrs:{title:"Notice of 24 Hour Licence Prohibition"}},[r("validation-observer",{scopedSlots:e._u([{key:"default",fn:function(t){var i=t.handleSubmit,s=t.validate;return[r("form",{on:{submit:function(t){t.preventDefault(),i(e.onSubmit(s))}}},[r("drivers-information-card"),r("vehicle-information-card"),r("vehicle-owner-card"),r("vehicle-impoundment-card"),r("return-of-licence-card"),r("prohibition-information-card"),r("reasonable-grounds-card"),e.isPrescribedTestUsed&&e.isProhibitionTypeAlcohol?r("test-administered-alcohol-card"):e._e(),e.isPrescribedTestUsed&&e.isProhibitionTypeDrugs?r("test-administered-drugs-card"):e._e(),r("officer-details-card"),r("form-card",{attrs:{title:"Generate PDF for Printing"}},[r("div",{staticClass:"d-flex justify-content-between"},[r("button",{staticClass:"btn btn-primary",attrs:{type:"submit",id:"btn_print_forms"}},[e._v("Print Forms "),e.display_spinner?r("b-spinner",{attrs:{small:"",label:"Loading..."}}):e._e()],1)]),r("div",{staticClass:"small text-danger pt-2"},[e.isNotValid?r("fade-text",{key:e.rerender,attrs:{"show-seconds":"3000"}},[e._v("Errors in form - check for validation errors above")]):e._e()],1)])],1)]}}],null,!1,1123052403)})],1):e._e()},gt=[],vt=(r("b0c0"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.visible?r("div",{staticClass:"form-group",class:e.fg_class},[e.show_label?r("label",{attrs:{for:e.id}},[e._t("default")],2):e._e(),e._l(e.options,(function(t){return r("div",{key:t,staticClass:"form-check"},[r("input",{staticClass:"form-check-input",attrs:{id:e.id,type:"checkbox",name:e.id,disabled:e.disabled||e.hasFormBeenPrinted},domProps:{checked:e.checkBoxStatus(e.id,t),value:t},on:{change:e.updateCheckBox}}),r("label",{staticClass:"form-check-label",attrs:{for:t}},[e._v(e._s(t))])])}))],2):e._e()}),Ot=[],yt={name:"FieldCommon",props:{id:String,disabled:{type:Boolean,default:!1},show_label:{type:Boolean,default:!0},visible:{type:Boolean,default:!0},fg_class:String,display_validation_errors:Boolean,rules:{}},computed:{attribute:{get:function(){return this.getAttributeValue(this.id)},set:function(e){var t={target:{id:this.id,value:e}};return this.updateFormField(t)}},glowClass:function(){return this.errors?"form-control border-danger":"form-control"}}},At=yt,Rt=Object(g["a"])(At,i,s,!1,null,null,null),Ct=Rt.exports,Nt={name:"CheckField",mixins:[Ct],props:{type:String(),options:null},methods:Object(f["a"])({},Object(u["d"])(["updateCheckBox"])),computed:Object(f["a"])({},Object(u["c"])(["checkBoxStatus","hasFormBeenPrinted"]))},Dt=Nt,It=Object(g["a"])(Dt,vt,Ot,!1,null,null,null),xt=It.exports,St=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.visible?r("div",{staticClass:"form-group",class:e.fg_class},[r("validation-provider",{attrs:{rules:e.rules,name:e.id},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors,s=t.required;return[r("label",{attrs:{for:e.id}},[e._t("default"),s?r("span",{staticClass:"text-danger"},[e._v(" *")]):e._e(),r("span",{staticClass:"small text-muted"},[e._v(" YYYYMMDD")])],2),r("div",{staticClass:"col-xs-10"},[r("div",{staticClass:"input-group mb-1"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.attribute,expression:"attribute"}],staticClass:"form-control ",class:i.length>0?"border-danger bg-warning":"",attrs:{type:"text",disabled:e.disabled||e.hasFormBeenPrinted,placeholder:"YYYYMMDD",id:e.id,name:e.id},domProps:{value:e.attribute},on:{input:function(t){t.target.composing||(e.attribute=t.target.value)}}})]),r("div",{staticClass:"small text-danger ml-1"},[e._v(e._s(i[0]))])])]}}],null,!0)})],1):e._e()},Tt=[],wt={name:"DateField",mixins:[Ct],methods:Object(f["a"])({},Object(u["d"])(["updateFormField"])),computed:Object(f["a"])({},Object(u["c"])(["getAttributeValue","hasFormBeenPrinted"]))},Lt=wt,Pt=Object(g["a"])(Lt,St,Tt,!1,null,null,null),Vt=Pt.exports,jt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form-group",class:e.fg_class},[r("validation-provider",{attrs:{rules:"validDt|dob",name:e.id},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors,s=t.required;return[e.show_label?r("label",{attrs:{for:e.id}},[e._v(" Date of Birth "),r("span",{staticClass:"small text-muted"},[e._v(" YYYYMMDD")]),s?r("span",{staticClass:"text-danger"},[e._v(" *")]):e._e(),e.isValidDate?r("span",{staticClass:"text-muted"},[e._v(" ("+e._s(e.yearsOld)+" yrs)")]):e._e()]):e._e(),r("div",{staticClass:"col-xs-10"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.attribute,expression:"attribute"}],staticClass:"form-control",class:i.length>0?"border-danger bg-warning":"",attrs:{type:"text",disabled:e.disabled||e.hasFormBeenPrinted,id:e.id,placeholder:"YYYYMMDD"},domProps:{value:e.attribute},on:{input:function(t){t.target.composing||(e.attribute=t.target.value)}}}),r("div",{staticClass:"small text-danger"},[e._v(e._s(i[0]))])])]}}])})],1)},Ft=[],Ut=r("c1df"),kt=r.n(Ut),Mt={name:"DoBField",mixins:[Ct],methods:Object(f["a"])({},Object(u["d"])(["updateFormField"])),computed:Object(f["a"])(Object(f["a"])({},Object(u["c"])(["getAttributeValue","hasFormBeenPrinted"])),{},{yearsOld:function(){return kt()().diff(kt()(this.getAttributeValue(this.id)),"years")},isValidDate:function(){return kt()(this.getAttributeValue(this.id)).isValid()}})},Bt=Mt,Ht=Object(g["a"])(Bt,jt,Ft,!1,null,null,null),Yt=Ht.exports,Gt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.visible?r("div",{staticClass:"form-group"},[r("validation-provider",{attrs:{rules:e.rules,name:e.id},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors,s=t.required;return[e.show_label?r("label",{attrs:{for:e.id}},[e._t("default"),s?r("span",{staticClass:"text-danger"},[e._v(" *")]):e._e()],2):e._e(),r("div",{staticClass:"input-group mb-3"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.attribute,expression:"attribute"}],staticClass:"form-control",class:i.length>0?"border-danger bg-warning":"",attrs:{disabled:e.disabled||e.hasFormBeenPrinted,type:"text",id:e.id,placeholder:"Driver's Licence Number"},domProps:{value:e.attribute},on:{input:function(t){t.target.composing||(e.attribute=t.target.value)}}}),r("div",{staticClass:"input-group-append"},[r("button",{staticClass:"btn-sm btn-secondary text-white font-weight-bold",attrs:{id:"btn-bcdl-prefill",type:"button",disabled:e.hasFormBeenPrinted||!e.isDisplayIcbcLicenceLookup},on:{click:e.triggerDriversLookup}},[e._v("ICBC Prefill "),e.display_spinner?r("b-spinner",{attrs:{small:"",label:"Loading..."}}):e._e()],1),r("button",{staticClass:"btn-sm btn-secondary text-white ml-2 font-weight-bold",attrs:{id:"btn-dl-scan",type:"button",disabled:e.hasFormBeenPrinted||!e.isLicenceJurisdictionBC},on:{click:e.launchDlScanner}},[e._v("Scan DL")])])]),r("div",{staticClass:"small text-danger"},[e._v(e._s(i[0])+" "),e.fetch_error?r("fade-text",{attrs:{"show-seconds":"3000"}},[e._v(e._s(e.fetch_error))]):e._e()],1),r("b-modal",{attrs:{id:"dl-scanner","hide-footer":""},scopedSlots:e._u([{key:"modal-title",fn:function(){return[e._v(" Driver's Licence Scanner ")]},proxy:!0}],null,!0)},[r("div",{staticClass:"d-block text-center"},[e.scanner_opened?r("div",[r("div",[e._v("Please scan the BC Driver's licence")]),r("br"),r("b-spinner")],1):e._e(),e.scanner_opened?e._e():r("div",{staticClass:"alert-warning pt-2 pb-2"},[r("div",[e._v("Requesting access to the scanner")]),r("div",{staticClass:"small"},[e._v(" "+e._s(e.scanner_message)+" ")])]),r("b-button",{staticClass:"mt-3 btn btn-primary",on:{click:function(t){return e.$bvModal.hide("dl-scanner")}}},[e._v("Cancel")])],1)])]}}],null,!0)})],1):e._e()},zt=[],qt=(r("a4d3"),r("e01a"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.show?r("div",[e._t("default")],2):e._e()}),$t=[],Wt=(r("a9e3"),{name:"FadeText",props:{display_seconds:{type:Number,default:5e3}},data:function(){return{show:!0}},mounted:function(){var e=this;setTimeout((function(){e.show=!1}),this.display_seconds)}}),Jt=Wt,Kt=Object(g["a"])(Jt,qt,$t,!1,null,null,null),Zt=Kt.exports,Xt=(r("99af"),r("5cc6"),r("907a"),r("9a8c"),r("a975"),r("735e"),r("c1ac"),r("d139"),r("3a7b"),r("d5d6"),r("82f8"),r("e91f"),r("60bd"),r("5f96"),r("3280"),r("3fcc"),r("ca91"),r("25a1"),r("cd26"),r("3c5d"),r("2954"),r("649e"),r("219c"),r("170b"),r("b39a"),r("72f7"),r("1276"),r("466d"),r("4d63"),r("c607"),r("2c3e"),r("25f0"),[{vendorId:2049,productId:2},{vendorId:2432,productId:37360}]),Qt={getScanner:function(){return Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("inside searchForScanner()"),e.next=3,navigator.hid.getDevices();case 3:return t=e.sent,e.abrupt("return",t[0]);case 5:case"end":return e.stop()}}),e)})))()},requestAccessToScanner:function(){return Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("inside connectToScanner()"),e.next=3,navigator.hid.requestDevice({filters:Xt});case 3:return t=e.sent,console.log("openDevice(): device list",t),e.abrupt("return",t[0]);case 6:case"end":return e.stop()}}),e)})))()},openScanner:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getScanner();case 2:if(r=t.sent,r){t.next=7;break}return t.next=6,e.requestAccessToScanner();case 6:r=t.sent;case 7:if(!r.opened){t.next=11;break}return t.abrupt("return",r);case 11:return t.next=13,r.open();case 13:return t.abrupt("return",r);case 14:case"end":return t.stop()}}),t)})))()},readFromScanner:function(e,t,r){var i=this;return Object(c["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return console.log("readDataFromScanner(): Received input report ".concat(t," from ").concat(e.productName)),a=String.fromCharCode.apply(null,new Uint8Array(r.buffer)),s.abrupt("return",i.parseAAMVA2009(a));case 3:case"end":return s.stop()}}),s)})))()},parseAAMVA2009:function(e){var t=e.split("?"),r=t[0].match(/%([A-Z]{2})([^^]{0,13})\^?([^^]{0,35})\^?([^^]{0,74})?/),i=t[1].match(/;(\d{6})(\d{0,13})(=)(\d{4})(\d{8})(\d{0,5})?/),s=r[1],a=r[2],n=r[3].match(/([^$]{0,35}),\$?([^$]{0,35})?/),o=r[4].match(new RegExp("^(.+)\\$(.+)\\s("+s+")\\s*(.{6,7})$"));return{province:s,city:a,name:function(){if(n)return{surname:n[1],given:n[2]}}(),address:function(){if(o)return{street:o[1],city:o[2],province:o[3],postalCode:o[4]}}(),iso_iin:i[1],number:i[2],expiration:this.parseDate(i[4]),dob:function(){var e=i[5].match(/(\d{4})(\d{2})(\d{2})/);if(e)return e[1]+e[2]+e[3]}()}},parseDate:function(e){var t=parseInt(e[0]+e[1]);return t<13?e[4]+e[5]+e[6]+e[7]+e[0]+e[1]+e[2]+e[3]:e}},er={name:"DriversLicenceNumber",components:{FadeText:Zt},mixins:[Ct],data:function(){return{display_spinner:!1,fetch_error:"",scanner_opened:!1,scanner_message:""}},computed:Object(f["a"])({icbcPayload:function(){return{dlNumber:this.getAttributeValue(this.id),form_object:this.getCurrentlyEditedFormObject}}},Object(u["c"])(["getCurrentlyEditedFormObject","getAttributeValue","isDisplayIcbcLicenceLookup","hasFormBeenPrinted","isLicenceJurisdictionBC"])),methods:Object(f["a"])(Object(f["a"])(Object(f["a"])({},Object(u["d"])(["updateFormField","populateDriverFromBarCode"])),Object(u["b"])(["lookupDriverFromICBC"])),{},{triggerDriversLookup:function(){var e=this;console.log("inside triggerDriversLookup()"),this.fetch_error="",this.display_spinner=!0,this.lookupDriverFromICBC(this.icbcPayload).then((function(){e.display_spinner=!1})).catch((function(t){console.log("error",t),e.display_spinner=!1,e.fetch_error=t.description}))},handledScannedBarCode:function(e){var t=this,r=e.data,i=e.device,s=e.reportId;Qt.readFromScanner(i,s,r).then((function(e){t.populateDriverFromBarCode(e),t.$bvModal.hide("dl-scanner")}))},launchDlScanner:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("inside launchDlScanner"),e.$bvModal.show("dl-scanner"),t.next=4,Qt.openScanner();case 4:r=t.sent,r.addEventListener("inputreport",e.handledScannedBarCode),e.scanner_opened=!!r.opened;case 7:case"end":return t.stop()}}),t)})))()}})},tr=er,rr=Object(g["a"])(tr,Gt,zt,!1,null,null,null),ir=rr.exports,sr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card-body text-dark text-left"},[r("div",{staticClass:"card"},[e.title?r("div",{staticClass:"card-header lightgray text-dark font-weight-bold pt-2 pb-2"},[r("div",{staticClass:"container p-0 m-0"},[r("div",{staticClass:"row p-0 mt-0 mb-0"},[r("div",{staticClass:"col-12 pt-1"},[e._v(e._s(e.title))])])])]):e._e(),r("div",{staticClass:"card-body lightgray"},[e._t("default")],2)])])},ar=[],nr={name:"FormCard",props:{title:String}},or=nr,lr=Object(g["a"])(or,sr,ar,!1,null,null,null),cr=lr.exports,dr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card w-100 mt-3 mb-3 border-primary"},[r("div",{staticClass:"card-header text-white bg-secondary pt-2 pb-0"},[r("h4",[e._v(e._s(e.title))])]),r("div",{staticClass:"card-header mt-0 mb-0 pt-2 pb-0 text-dark"},[r("p",{staticClass:"text-right pb-0 mb-2"},[r("span",{staticClass:"prohibition_number"},[e._v(e._s(e.getCurrentlyEditedFormId)+" ")])])]),e._t("default")],2)},ur=[],_r={name:"FormContainer",props:{title:String},computed:Object(f["a"])({},Object(u["c"])(["getCurrentlyEditedFormId"]))},mr=_r,fr=Object(g["a"])(mr,dr,ur,!1,null,null,null),pr=fr.exports,Er=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form-row pl-2"},[e._t("default")],2)},br=[],hr={name:"FormRow"},gr=hr,vr=Object(g["a"])(gr,Er,br,!1,null,null,null),Or=vr.exports,yr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isDisplayStep?r("div",[e._t("default"),r("div",{staticClass:"card-body mt-0 pt-0"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-6 text-left"},[e.isPreviousButtonDisabled?e._e():r("a",{staticClass:"btn btn-success",attrs:{href:"#"},on:{click:e.previousStep}},[r("b-icon-arrow-left"),e._v(" "+e._s(e.previousStepLabel)+" ")],1)]),r("div",{staticClass:"col-6 text-right"},[e.isNextButtonDisabled?e._e():r("a",{staticClass:"btn btn-success",attrs:{href:"#"},on:{click:e.nextStep}},[e._v(" "+e._s(e.nextStepLabel)+" "),r("b-icon-arrow-right")],1)])])])],2):e._e()},Ar=[],Rr={name:"FormStep",props:{step_number:Number},methods:Object(f["a"])({},Object(u["d"])(["nextStep","previousStep"])),computed:Object(f["a"])(Object(f["a"])({},Object(u["c"])(["getFormSteps","getFormCurrentStep","isPreviousButtonDisabled","isNextButtonDisabled"])),{},{isDisplayStep:function(){return this.getFormCurrentStep===this.step_number},previousStepLabel:function(){return this.getFormSteps[this.step_number-2]},nextStepLabel:function(){return this.getFormSteps[this.step_number]}})},Cr=Rr,Nr=Object(g["a"])(Cr,yr,Ar,!1,null,null,null),Dr=Nr.exports,Ir=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.visible?r("div",{staticClass:"form-group",class:e.fg_class},[r("validation-provider",{attrs:{rules:e.rules,name:e.id},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors,s=t.required;return[e.show_label?r("label",{attrs:{for:e.id}},[e._t("default"),s?r("span",{staticClass:"text-danger"},[e._v(" *")]):e._e()],2):e._e(),r("select",{directives:[{name:"model",rawName:"v-model",value:e.attribute,expression:"attribute"}],staticClass:"form-control",attrs:{disabled:e.disabled,id:e.id},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.attribute=t.target.multiple?r:r[0]}}},[r("option",[e._v("Male")]),r("option",[e._v("Female")])]),r("div",{staticClass:"small text-danger"},[e._v(e._s(i[0]))])]}}],null,!0)})],1):e._e()},xr=[],Sr={name:"GenderField",mixins:[Ct],computed:Object(f["a"])({},Object(u["c"])(["getAttributeValue"])),methods:Object(f["a"])({},Object(u["d"])(["updateFormField"]))},Tr=Sr,wr=Object(g["a"])(Tr,Ir,xr,!1,null,null,null),Lr=wr.exports,Pr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form-group",class:e.fg_class},[r("validation-provider",{attrs:{rules:e.rules,name:e.id},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors,s=t.required;return[e.show_label?r("label",{attrs:{for:e.id}},[e._t("default"),s?r("span",{staticClass:"text-danger"},[e._v(" *")]):e._e()],2):e._e(),r("input",{staticClass:"form-control",attrs:{type:"text",disabled:e.disabled||e.hasFormBeenPrinted,id:e.id,placeholder:e.placeholder},domProps:{value:e.getAttributeValue(e.id)},on:{input:e.updateFormField}}),r("div",{staticClass:"small text-danger"},[e._v(e._s(i[0]))])]}}],null,!0)})],1)},Vr=[],jr={name:"PhoneField",props:{placeholder:String},mixins:[Ct],computed:Object(f["a"])({},Object(u["c"])(["getAttributeValue","hasFormBeenPrinted"])),methods:Object(f["a"])({},Object(u["d"])(["updateFormField"]))},Fr=jr,Ur=Object(g["a"])(Fr,Pr,Vr,!1,null,null,null),kr=Ur.exports,Mr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.visible?r("div",{staticClass:"form-group",class:e.fg_class},[r("validation-provider",{attrs:{rules:e.rules,name:e.id},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors,s=t.required;return[e.show_label?r("label",{attrs:{for:e.id}},[e._t("default"),s?r("span",{staticClass:"text-danger"},[e._v(" *")]):e._e()],2):e._e(),r("div",{staticClass:"input-group mb-3"},[r("input",{staticClass:"form-control",attrs:{type:"text",id:e.id,disabled:e.disabled||e.hasFormBeenPrinted,placeholder:"Plate"},domProps:{value:e.getAttributeValue(e.id)},on:{input:e.updateFormField}}),r("div",{staticClass:"input-group-append"},[r("button",{staticClass:"btn-sm btn-secondary font-weight-bold",attrs:{type:"button",id:"icbc-prefill",disabled:e.hasFormBeenPrinted||!e.isDisplayIcbcPlateLookup},on:{click:e.triggerPlateLookup}},[e._v(" ICBC Prefill "),e.display_spinner?r("b-spinner",{attrs:{small:"",label:"Loading..."}}):e._e()],1)])]),r("div",{staticClass:"small text-danger"},[e._v(" "+e._s(i[0])+" "),e.fetch_error?r("fade-text",{attrs:{"show-seconds":3e3}},[e._v(e._s(e.fetch_error))]):e._e()],1)]}}],null,!0)})],1):e._e()},Br=[],Hr={name:"PlateNumber",mixins:[Ct],data:function(){return{display_spinner:!1,fetch_error:""}},computed:Object(f["a"])(Object(f["a"])({},Object(u["c"])(["getAttributeValue","isDisplayIcbcPlateLookup","getCurrentlyEditedFormId","hasFormBeenPrinted"])),{},{icbcPayload:function(){return{plateNumber:this.getAttributeValue(this.id)}}}),methods:Object(f["a"])(Object(f["a"])(Object(f["a"])({},Object(u["d"])(["updateFormField"])),Object(u["b"])(["lookupPlateFromICBC"])),{},{triggerPlateLookup:function(){var e=this;console.log("inside triggerPlateLookup()"),this.fetch_error="",this.display_spinner=!0,this.lookupPlateFromICBC(this.icbcPayload).then((function(){e.display_spinner=!1})).catch((function(t){console.log("error",t),e.display_spinner=!1,e.fetch_error=t.description}))}}),components:{FadeText:Zt}},Yr=Hr,Gr=Object(g["a"])(Yr,Mr,Br,!1,null,"37067a4b",null),zr=Gr.exports,qr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.visible?r("div",{staticClass:"form-group",class:e.fg_class},[r("validation-provider",{attrs:{rules:e.rules,name:e.id},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors,s=t.required;return[e.show_label?r("label",{attrs:{for:e.id}},[e._t("default"),s?r("span",{staticClass:"text-danger"},[e._v(" *")]):e._e()],2):e._e(),r("select",{directives:[{name:"model",rawName:"v-model",value:e.attribute,expression:"attribute"}],staticClass:"form-control",attrs:{disabled:e.disabled||e.hasFormBeenPrinted,id:e.id},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.attribute=t.target.multiple?r:r[0]}}},e._l(e.getArrayOfProvinces,(function(t){return r("option",{key:t.objectCd},[e._v(" "+e._s(t.objectCd)+" ")])})),0),r("div",{staticClass:"small text-danger"},[e._v(e._s(i[0]))])]}}],null,!0)})],1):e._e()},$r=[],Wr={name:"ProvinceField",props:{defaultToBc:{type:Boolean,default:!0}},mixins:[Ct],mounted:function(){this.defaultToBc&&this.$store.commit("updateFormField",{target:{id:this.id,value:"BC"}})},computed:Object(f["a"])({},Object(u["c"])(["getArrayOfProvinces","getAttributeValue","hasFormBeenPrinted"])),methods:Object(f["a"])({},Object(u["d"])(["updateFormField"]))},Jr=Wr,Kr=Object(g["a"])(Jr,qr,$r,!1,null,null,null),Zr=Kr.exports,Xr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.visible?r("div",{staticClass:"form-group",class:e.fg_class},[r("validation-provider",{attrs:{rules:e.rules,name:e.id},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors,s=t.required;return[e.show_label?r("label",{attrs:{for:e.id}},[e._t("default")],2):e._e(),s?r("span",{staticClass:"small text-danger"},[e._v(" *")]):e._e(),e._l(e.options,(function(t,i){return r("div",{key:i,staticClass:"form-check"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.attribute,expression:"attribute"}],staticClass:"form-check-input",attrs:{id:e.id,type:"radio",name:e.id,disabled:e.disabled||e.hasFormBeenPrinted},domProps:{value:t,checked:e._q(e.attribute,t)},on:{change:function(r){e.attribute=t}}}),r("label",{staticClass:"form-check-label",attrs:{for:t}},[e._v(e._s(t))])])})),r("div",{staticClass:"small text-danger"},[e._v(e._s(i[0]))])]}}],null,!0)})],1):e._e()},Qr=[],ei={name:"RadioField",mixins:[Ct],props:{type:String(),options:null},methods:Object(f["a"])({},Object(u["d"])(["updateFormField"])),computed:Object(f["a"])({},Object(u["c"])(["getAttributeValue","hasFormBeenPrinted"]))},ti=ei,ri=Object(g["a"])(ti,Xr,Qr,!1,null,null,null),ii=ri.exports,si=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"shadow-lg p-2 mt-1 m-1"},[e._t("default")],2)},ai=[],ni={name:"ShadowBox"},oi=ni,li=Object(g["a"])(oi,si,ai,!1,null,null,null),ci=li.exports,di=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.visible?r("div",{staticClass:"form-group",class:e.fg_class},[r("validation-provider",{attrs:{rules:e.rules,name:e.id},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[e.show_label?r("label",{attrs:{for:e.id}},[e._t("default"),e.isShowOptional?e._e():r("span",{staticClass:"text-danger"},[e._v(" *")])],2):e._e(),r("input",{directives:[{name:"model",rawName:"v-model",value:e.attribute,expression:"attribute"}],staticClass:"form-control",class:i.length>0?"border-danger bg-warning":"",attrs:{type:"text",id:e.id,disabled:e.disabled||e.hasFormBeenPrinted,placeholder:e.placeholder},domProps:{value:e.attribute},on:{input:function(t){t.target.composing||(e.attribute=t.target.value)}}}),r("div",{staticClass:"small text-danger"},[e._v(e._s(i[0]))])]}}],null,!0)})],1):e._e()},ui=[],_i=(r("caad"),r("2532"),{name:"TextField",mixins:[Ct],props:{placeholder:String},computed:Object(f["a"])(Object(f["a"])({},Object(u["c"])(["getAttributeValue","hasFormBeenPrinted"])),{},{isShowOptional:function(){return!this.rules||!this.rules.includes("required")}}),methods:Object(f["a"])({},Object(u["d"])(["updateFormField"]))}),mi=_i,fi=Object(g["a"])(mi,di,ui,!1,null,null,null),pi=fi.exports,Ei=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.visible?r("div",{staticClass:"form-group",class:e.fg_class},[r("validation-provider",{attrs:{rules:e.rules,name:e.id},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors,s=t.required;return[r("label",{attrs:{for:e.id}},[e._t("default")],2),s?r("span",{staticClass:"small text-danger"},[e._v(" *")]):e._e(),r("vue-typeahead-bootstrap",{attrs:{"input-class":i.length>0?"border-danger bg-warning":"",value:e.getAttributeValue(e.id),data:e.suggestions,disabled:e.disabled||e.hasFormBeenPrinted,inputName:e.id+"_typeahead"},on:{input:e.typeAheadUpdate}}),r("div",{staticClass:"small text-danger"},[e._v(e._s(i[0]))])]}}],null,!0)})],1):e._e()},bi=[],hi=r("d726"),gi={name:"TypeAheadField",mixins:[Ct],props:{suggestions:{default:Array}},computed:Object(f["a"])({},Object(u["c"])(["getAttributeValue","hasFormBeenPrinted"])),methods:{typeAheadUpdate:function(e){var t={target:{value:e.toUpperCase(),id:this.id}};this.$store.commit("updateFormField",t)}},components:{VueTypeaheadBootstrap:hi["a"]}},vi=gi,Oi=Object(g["a"])(vi,Ei,bi,!1,null,null,null),yi=Oi.exports,Ai={name:"FormsCommon",props:{name:{type:String},id:{}},data:function(){return{data:{},isMounted:!1,display_spinner:!1,isNotValid:!1,rerender:1}},computed:Object(f["a"])(Object(f["a"])({},Object(u["c"])(["getArrayOfBCCityNames","getFormData"])),{},{getFormObject:function(){return{form_id:this.id,form_type:this.name}}}),methods:Object(f["a"])({},Object(u["d"])(["editExistingForm","setNewFormDefaults"])),components:{CheckField:xt,DateField:Vt,DobField:Yt,DriverLicenceNumber:ir,FormCard:cr,FormContainer:pr,FormRow:Or,FormStep:Dr,GenderField:Lr,PhoneField:kr,PlateNumber:zr,ProvinceField:Zr,RadioField:ii,ShadowBox:ci,TextField:pi,TypeAheadField:yi,ValidationObserver:B["a"]}},Ri=Ai,Ci=Object(g["a"])(Ri,a,n,!1,null,null,null),Ni=Ci.exports,Di=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form-card",{attrs:{title:"Driver's Information"}},[r("form-row",[r("driver-licence-number",{attrs:{id:"drivers_number",rules:e.bcdlNumberRules}},[e._v("Driver's Licence Number")]),r("jurisdiction-field",{attrs:{id:"drivers_licence_jurisdiction",fg_class:"col-sm-3"}},[e._v("Prov / State / International")])],1),r("form-row",[r("text-field",{attrs:{id:"last_name",fg_class:"col-sm-4",placeholder:"Last Name",rules:"required|max:20"}},[e._v("Last Name")]),r("text-field",{attrs:{id:"first_name",fg_class:"col-sm-4",placeholder:"Given Names",rules:"max:20"}},[e._v("Given Names")]),r("dob-field",{attrs:{id:"dob",fg_class:"col-sm-4"}},[e._v("Date of Birth")])],1),r("form-row",[r("text-field",{attrs:{id:"address1",fg_class:"col-sm-12",placeholder:"Address",rules:"required|max:25"}},[e._v("Address")])],1),r("form-row",[r("type-ahead-field",{attrs:{id:"city",fg_class:"col-sm-6",suggestions:e.getArrayOfBCCityNames,rules:"required|max:15"}},[e._v("City")]),r("province-field",{attrs:{id:"province",fg_class:"col-sm-2",rules:"required"}},[e._v("Prov / State")]),r("text-field",{attrs:{id:"postal",fg_class:"col-sm-4"}},[e._v("Postal / Zip")])],1)],1)},Ii=[],xi=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.visible?r("div",{staticClass:"form-group",class:e.fg_class},[e.show_label?r("label",{attrs:{for:e.id}},[e._t("default")],2):e._e(),r("input",{staticClass:"form-control",attrs:{type:"text",id:e.id,disabled:!0,placeholder:"seeking ICBC approval"}})]):e._e()},Si=[],Ti={name:"WaitForICBCField",mixins:[Ct]},wi=Ti,Li=Object(g["a"])(wi,xi,Si,!1,null,null,null),Pi=Li.exports,Vi=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.visible?r("div",{staticClass:"form-group",class:e.fg_class},[r("validation-provider",{attrs:{rules:e.rules,name:e.id},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors,s=t.required;return[e.show_label?r("label",{attrs:{for:e.id}},[e._t("default"),s?r("span",{staticClass:"text-danger"},[e._v(" *")]):e._e()],2):e._e(),r("select",{staticClass:"form-control",attrs:{disabled:e.disabled||e.hasFormBeenPrinted,id:e.id},on:{input:e.updateFormField}},e._l(e.getArrayOfJurisdictions,(function(t){return r("option",{key:t.objectCd,domProps:{selected:t.objectDsc===e.getAttributeValue(e.id)}},[e._v(" "+e._s(t.objectDsc)+" ")])})),0),r("div",{staticClass:"small text-danger"},[e._v(e._s(i[0]))])]}}],null,!0)})],1):e._e()},ji=[],Fi={name:"JurisdictionField",mixins:[Ct],mounted:function(){this.$store.commit("updateFormField",{target:{id:this.id,value:"British Columbia"}})},computed:Object(f["a"])({},Object(u["c"])(["getArrayOfJurisdictions","getAttributeValue","hasFormBeenPrinted"])),methods:Object(f["a"])({},Object(u["d"])(["updateFormField"]))},Ui=Fi,ki=Object(g["a"])(Ui,Vi,ji,!1,null,null,null),Mi=ki.exports,Bi=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.visible?r("div",{staticClass:"form-group",class:e.fg_class},[r("validation-provider",{attrs:{rules:e.rules,name:e.id},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[r("label",{attrs:{for:e.id}},[e._t("default"),r("span",{staticClass:"small text-muted"},[e._v(" HHMM in Pacific Time")])],2),r("div",{staticClass:"col-xs-10"},[r("div",{staticClass:"form-row"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.attribute,expression:"attribute"}],staticClass:"form-control ",class:i.length>0?"border-danger bg-warning":"",attrs:{type:"text",id:e.id,disabled:e.disabled||e.hasFormBeenPrinted,placeholder:"HHMM",name:e.id},domProps:{value:e.attribute},on:{input:function(t){t.target.composing||(e.attribute=t.target.value)}}})]),r("div",{staticClass:"small text-danger ml-1"},[e._v(e._s(i[0]))])])]}}],null,!0)})],1):e._e()},Hi=[],Yi={name:"TimeField",mixins:[Ct],computed:Object(f["a"])({},Object(u["c"])(["getAttributeValue","hasFormBeenPrinted"])),methods:Object(f["a"])({},Object(u["d"])(["updateFormField"]))},Gi=Yi,zi=Object(g["a"])(Gi,Bi,Hi,!1,null,null,null),qi=zi.exports,$i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row m-0 p-0 text-muted"},[r("div",{staticClass:"col-sm-3"},[e._t("default")],2),r("div",{staticClass:"col-sm-7"},[e._v(e._s(e.displayAttributeValue))])])},Wi=[],Ji=r("53ca"),Ki=(r("a15b"),{name:"ReadOnlyElement",props:{id:String},computed:Object(f["a"])(Object(f["a"])({},Object(u["c"])(["getAttributeValue"])),{},{displayAttributeValue:function(){var e=this.getAttributeValue(this.id);return"object"===Object(Ji["a"])(e)?0===e.length?"No":e.join(", "):e}})}),Zi=Ki,Xi=Object(g["a"])(Zi,$i,Wi,!1,null,null,null),Qi=Xi.exports,es={name:"CardCommon",props:{id:String,isReadOnly:{default:!1}},computed:Object(f["a"])(Object(f["a"])({},Object(u["c"])(["getAttributeValue","getArrayOfBCCityNames","getArrayOfAgencies"])),{},{offenceCityRules:function(){return{required:!0,inCities:this.getArrayOfBCCityNames}},bcdlNumberRules:function(){return"British Columbia"===this.getAttributeValue("drivers_licence_jurisdiction")?{bcdlNumberRule:!0}:{}}}),components:{CheckField:xt,DateField:Vt,DobField:Yt,DriverLicenceNumber:ir,FormCard:cr,FormRow:Or,FormStep:Dr,GenderField:Lr,JurisdictionField:Mi,PhoneField:kr,PlateNumber:zr,ProvinceField:Zr,RadioField:ii,ReadOnlyElement:Qi,ShadowBox:ci,TextField:pi,TimeField:qi,TypeAheadField:yi,WaitForIcbcField:Pi}},ts=es,rs=Object(g["a"])(ts,o,l,!1,null,"4b5152a0",null),is=rs.exports,ss={name:"DriversInformationCard",mixins:[is]},as=ss,ns=Object(g["a"])(as,Di,Ii,!1,null,null,null),os=ns.exports,ls=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form-card",{attrs:{title:"Officer"}},[r("form-row",[r("text-field",{attrs:{id:"agency",rules:"required",fg_class:"col-sm-6"}},[e._v("Agency")]),r("text-field",{attrs:{id:"badge_number",rules:"required",fg_class:"col-sm-2"}},[e._v("Badge #")]),r("text-field",{attrs:{id:"officer_name",rules:"required",fg_class:"col-sm-4"}},[e._v("Last Name of Peace Officer Serving Prohibition Notice")])],1)],1)},cs=[],ds={name:"OfficerDetailsCard",mixins:[is]},us=ds,_s=Object(g["a"])(us,ls,cs,!1,null,null,null),ms=_s.exports,fs=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form-card",{attrs:{title:"Prohibition"}},[r("form-row",[r("radio-field",{attrs:{id:"prohibition_type",fg_class:"col-sm-6",rules:"required",options:["Alcohol 215(2)","Drugs 215(3)"]}},[e._v("Type of Prohibition (select one)")])],1),r("form-row",[r("text-field",{attrs:{id:"offence_address",fg_class:"col-sm-8",rules:"required"}},[e._v("Intersection or Address of Offence")]),r("type-ahead-field",{attrs:{id:"offence_city",fg_class:"col-sm-4",suggestions:e.getArrayOfBCCityNames,rules:e.offenceCityRules}},[e._v("City ")])],1),r("form-row",[r("text-field",{attrs:{id:"file_number",fg_class:"col-sm-2",rules:"required"}},[e._v("Agency File #")]),r("date-field",{attrs:{id:"prohibition_start_date",fg_class:"col-sm-5",rules:"required|validDt|notFutureDt|notGtYearAgo"}},[e._v(" Date of Driving - care or control ")]),r("time-field",{attrs:{id:"prohibition_start_time",fg_class:"col-sm-5",rules:"required|validTime|notFutureDateTime:@prohibition_start_date"}},[e._v(" Time of Driving - care or control ")])],1)],1)},ps=[],Es={name:"ProhibitionInformationCard",mixins:[is]},bs=Es,hs=Object(g["a"])(bs,fs,ps,!1,null,"bb57a06a",null),gs=hs.exports,vs=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form-card",{attrs:{title:"Reasonable Grounds"}},[e.isProhibitionTypeSelected?r("div",[r("form-row",[r("check-field",{attrs:{id:"operating_grounds",fg_class:"col-sm-12",rules:"required",options:["Witnessed by officer","Admission by driver","Independent witness","Video surveillance","Other"]}},[e._v(" The driver was operating a motor vehicle or had care and control of a motor vehicle for the purposes of MVA section 215(1) based on (select at least one): ")])],1),e.isOperatingGroundsOther?r("form-row",[r("text-field",{attrs:{id:"operating_ground_other",fg_class:"col-sm-12"}},[e._v("Other")])],1):e._e(),r("form-row",[r("radio-field",{attrs:{id:"prescribed_device",fg_class:"col-sm-12",options:["Yes","No"]}},[e._v("Was a prescribed test used to form reasonable grounds? ")])],1),r("form-row",[e.isPrescribedTestNotUsed?r("radio-field",{attrs:{id:"reason_prescribed_test_not_used",fg_class:"col-sm-12",options:["Refused by driver","Opinion formed the driver was affected by alcohol and/or drugs"]}},[e._v(" Why was a prescribed test not used? ")]):e._e()],1)],1):e._e()])},Os=[],ys={name:"ReasonableGroundsCard",mixins:[is],computed:Object(f["a"])(Object(f["a"])({},Object(u["c"])(["checkBoxStatus"])),{},{isProhibitionTypeSelected:function(){return this.getAttributeValue("prohibition_type").length>0},isOperatingGroundsOther:function(){return this.checkBoxStatus("operating_grounds","Other")},isPrescribedTestNotUsed:function(){return"No"===this.getAttributeValue("prescribed_device")}})},As=ys,Rs=Object(g["a"])(As,vs,Os,!1,null,"61132096",null),Cs=Rs.exports,Ns=function(){var e=this,t=e.$createElement;e._self._c;return e._e()},Ds=[],Is={name:"ReturnOfLicenceCard",mixins:[is],computed:Object(f["a"])(Object(f["a"])({},Object(u["c"])(["getArrayOfPickupLocations"])),{},{licencePickupInPerson:function(){return"Pickup in person"===this.getAttributeValue("return_of_licence")},isLicenceSurrendered:function(){return"Yes"===this.getAttributeValue("licence_surrendered")}})},xs=Is,Ss=Object(g["a"])(xs,Ns,Ds,!1,null,"706a4bb0",null),Ts=Ss.exports,ws=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form-card",{attrs:{title:"Test Administered - Alcohol 215(2)"}},[r("shadow-box",[r("form-row",[r("check-field",{attrs:{show_label:!1,id:"test_administered_asd",fg_class:"col-sm-6",options:["Alco-Sensor FST (ASD)"]}},[e._v("Test Administered")]),e.isTestAdministeredASD?r("date-field",{attrs:{id:"asd_expiry_date",fg_class:"col-sm-6",rules:"required|validDt|notExpiredDt"}},[e._v("ASD expiry date")]):e._e()],1),r("form-row",[e.isTestAdministeredASD?r("radio-field",{attrs:{id:"result_alcohol",fg_class:"col-sm-6",options:["51-99 mg%","Over 99 mg%"]}},[e._v("Result")]):e._e(),r("date-field",{attrs:{id:"test_date",fg_class:"col-sm-3",visible:e.isTestAdministeredASD,rules:"required|validDt|notFutureDt|notGtYearAgo"}},[e._v("Date of test")]),r("time-field",{attrs:{id:"test_time",fg_class:"col-sm-3",visible:e.isTestAdministeredASD,rules:"required|validTime|notFutureDateTime:@test_date|notBeforeCareDateTime:@prohibition_start_date,@prohibition_start_time,@test_date"}},[e._v("Time")])],1)],1),r("shadow-box",[r("form-row",[r("check-field",{attrs:{show_label:!1,id:"test_administered_instrument",fg_class:"col-sm-6",options:["Approved Instrument"]}})],1),r("form-row",[e.isTestAdministeredApprovedInstrument?r("text-field",{attrs:{rules:"required|bac_result",id:"test_result_bac",fg_class:"col-sm-2"}},[e._v("BAC Result (mg%) ")]):e._e(),r("date-field",{attrs:{id:"test_date",fg_class:"col-sm-3",visible:e.isTestAdministeredApprovedInstrument,rules:"required|validDt|notFutureDt|notGtYearAgo"}},[e._v("Date of test")]),r("time-field",{attrs:{id:"test_time",fg_class:"col-sm-3",visible:e.isTestAdministeredApprovedInstrument,rules:"required|validTime|notFutureDateTime:@test_date|notBeforeCareDateTime:@prohibition_start_date,@prohibition_start_time,@test_date"}},[e._v("Time")])],1)],1),r("shadow-box",[r("form-row",[r("check-field",{attrs:{show_label:!1,id:"test_administered_sfst",fg_class:"col-sm-6",options:["Prescribed Physical Coordination Test (SFST)"]}},[e._v("  ")]),r("date-field",{attrs:{id:"test_date",fg_class:"col-sm-3",visible:e.isTestAdministeredSFST,rules:"required|validDt|notFutureDt|notGtYearAgo"}},[e._v("Date of test")]),r("time-field",{attrs:{id:"test_time",fg_class:"col-sm-3",visible:e.isTestAdministeredSFST,rules:"required|validTime|notFutureDateTime:@test_date|notBeforeCareDateTime:@prohibition_start_date,@prohibition_start_time,@test_date"}},[e._v("Time")])],1)],1)],1)},Ls=[],Ps={name:"OfficersReport",mixins:[is],computed:Object(f["a"])({},Object(u["c"])(["isTestAdministeredSFST","isTestAdministeredApprovedInstrument","isTestAdministeredASD"]))},Vs=Ps,js=Object(g["a"])(Vs,ws,Ls,!1,null,"f498b572",null),Fs=js.exports,Us=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form-card",{attrs:{title:"Test Administered - Drugs 215(3)"}},[r("shadow-box",[r("form-row",[r("check-field",{attrs:{show_label:!1,id:"test_administered_adse",fg_class:"col-sm-6",options:["Approved Drug Screening Equipment"]}},[e._v("Test Administered ")])],1),r("form-row",[e.isTestAdministeredADSE?r("check-field",{attrs:{id:"positive_adse",fg_class:"col-sm-6",options:["THC","Cocaine"]}},[e._v("Test result")]):e._e(),r("date-field",{attrs:{id:"test_date",fg_class:"col-sm-3",visible:e.isTestAdministeredADSE,rules:"required|validDt|notFutureDt|notGtYearAgo"}},[e._v("Date of test")]),r("time-field",{attrs:{id:"test_time",fg_class:"col-sm-3",visible:e.isTestAdministeredADSE,rules:"required|validTime|notFutureDateTime:@test_date|notBeforeCareDateTime:@prohibition_start_date,@prohibition_start_time,@test_date"}},[e._v("Time")])],1)],1),r("shadow-box",[r("form-row",[r("check-field",{attrs:{show_label:!1,id:"test_administered_sfst",fg_class:"col-sm-6",options:["Prescribed Physical Coordination Test (SFST)"]}},[e._v("  ")]),r("date-field",{attrs:{id:"test_date",fg_class:"col-sm-3",visible:e.isTestAdministeredSFST,rules:"required|validDt|notFutureDt|notGtYearAgo"}},[e._v("Date of test")]),r("time-field",{attrs:{id:"test_time",fg_class:"col-sm-3",visible:e.isTestAdministeredSFST,rules:"required|validTime|notFutureDateTime:@test_date|notBeforeCareDateTime:@prohibition_start_date,@prohibition_start_time,@test_date"}},[e._v("Time")])],1)],1),r("shadow-box",[r("form-row",[r("check-field",{attrs:{show_label:!1,id:"test_administered_dre",fg_class:"col-sm-6",options:["Prescribed Physical Coordination Test (DRE)"]}},[e._v("  ")]),r("date-field",{attrs:{id:"test_date",fg_class:"col-sm-3",visible:e.isTestAdministeredDRE,rules:"required|validDt|notFutureDt|notGtYearAgo"}},[e._v("Date of test")]),r("time-field",{attrs:{id:"test_time",fg_class:"col-sm-3",visible:e.isTestAdministeredDRE,rules:"required|validTime|notFutureDateTime:@test_date|notBeforeCareDateTime:@prohibition_start_date,@prohibition_start_time,@test_date"}},[e._v("Time")])],1)],1)],1)},ks=[],Ms={name:"TestAdministeredDrugsCard",mixins:[is],mounted:function(){this.$store.commit("updateFormField",{target:{id:"result_drug",value:this.drugConclusion}})},computed:Object(f["a"])({drugConclusion:function(){return"Ability to drive affected by a drug"},isProhibitionTypeSelected:function(){return this.getAttributeValue("prohibition_type").length>0},isProhibitionTypeDrugs:function(){return"Drugs 215(3)"===this.getAttributeValue("prohibition_type")},isOperatingGroundsOther:function(){return"Other"===this.getAttributeValue("operating_grounds")},isPrescribedTestUsed:function(){return"Yes"===this.getAttributeValue("prescribed_device").substr(0,3)}},Object(u["c"])(["isTestAdministeredDRE","isTestAdministeredSFST","isTestAdministeredADSE"]))},Bs=Ms,Hs=Object(g["a"])(Bs,Us,ks,!1,null,null,null),Ys=Hs.exports,Gs=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form-card",{attrs:{title:"Vehicle Impoundment or Disposition"}},[r("form-row",[r("radio-field",{attrs:{id:"vehicle_impounded",fg_class:"col-sm-6",options:["Yes","No"],rules:"required"}},[e._v("Vehicle Impounded? ")])],1),r("form-row",[r("radio-field",{attrs:{id:"reason_for_not_impounding",fg_class:"col-sm-6",options:["Released to other driver","Left at roadside","Private tow","Seized for investigation"],visible:e.showVehicleNotImpounded}},[e._v("Reason for not impounding?")])],1),e.isReleasedToOtherDriver?r("form-row",[r("text-field",{attrs:{id:"vehicle_released_to",visible:e.showVehicleNotImpounded,fg_class:"col-sm-6"}},[e._v(" Vehicle Released To")]),r("date-field",{attrs:{id:"released_date",fg_class:"col-sm-3",visible:e.showVehicleNotImpounded,rules:"required|validDt|notFutureDt|notGtYearAgo"}},[e._v("Date Released")]),r("time-field",{attrs:{id:"released_time",fg_class:"col-sm-3",visible:e.showVehicleNotImpounded,rules:"required|validTime|notFutureDateTime:@released_date"}},[e._v("Time")])],1):e._e(),r("form-row",[r("radio-field",{attrs:{id:"location_of_keys",visible:e.showVehicleImpounded,fg_class:"col-sm-6",rules:"required",options:["With vehicle","With driver"]}},[e._v("Location of Keys?")])],1),r("form-row",[r("type-ahead-field",{attrs:{id:"impound_lot_operator",fg_class:"col-sm-12",visible:e.showVehicleImpounded,rules:"required",suggestions:e.getArrayOfImpoundLotOperators}},[e._v("Impound Lot Operator (name, lot address, city & phone)")])],1)],1)},zs=[],qs={name:"VehicleImpoundmentCard",mixins:[is],computed:Object(f["a"])(Object(f["a"])({},Object(u["c"])(["getAttributeValue","getArrayOfImpoundLotOperators"])),{},{showVehicleImpounded:function(){return"Yes"===this.getAttributeValue("vehicle_impounded")},showVehicleNotImpounded:function(){return"No"===this.getAttributeValue("vehicle_impounded")},isReleasedToOtherDriver:function(){return"Released to other driver"===this.getAttributeValue("reason_for_not_impounding")}})},$s=qs,Ws=Object(g["a"])($s,Gs,zs,!1,null,"4c9d29be",null),Js=Ws.exports,Ks=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form-card",{attrs:{title:"Vehicle information"}},[r("form-row",[r("jurisdiction-field",{attrs:{id:"plate_province",fg_class:"col-sm-3"}},[e._v("Jurisdiction")]),r("plate-number",{attrs:{id:"plate_number",fg_class:"col-sm-6"}},[e._v("Plate Number")])],1),r("form-row",[r("text-field",{attrs:{id:"plate_year",rules:"plate_year",fg_class:"col-sm-4"}},[e._v("Plate Year")]),r("text-field",{attrs:{id:"plate_val_tag",input_type:"number",fg_class:"col-sm-4"}},[e._v("Plate Val Tag")]),r("text-field",{attrs:{id:"registration_number",fg_class:"col-sm-4"}},[e._v("Registration Number")])],1),r("form-row",[r("text-field",{attrs:{id:"vehicle_year",rules:"vehicleYear",fg_class:"col-sm-2"}},[e._v("Vehicle Year")]),r("type-ahead-field",{attrs:{suggestions:e.getArrayOfVehicleMakes,id:"vehicle_make",input_type:"number",fg_class:"col-sm-3"}},[e._v("Vehicle Make")]),r("type-ahead-field",{attrs:{suggestions:e.getArrayOfVehicleModels,id:"vehicle_model",fg_class:"col-sm-3"}},[e._v("Vehicle Model")]),r("type-ahead-field",{attrs:{suggestions:e.getArrayOfVehicleStyles,id:"vehicle_type",fg_class:"col-sm-2",rules:"max:6"}},[e._v("Vehicle Type")]),r("type-ahead-field",{attrs:{suggestions:e.getArrayOfCommonCarColors,id:"vehicle_color",fg_class:"col-sm-2",rules:"max:4"}},[e._v("Vehicle Colour")])],1),r("form-row",[r("text-field",{attrs:{id:"vin_number",fg_class:"col-sm-5",rules:"max:20"}},[e._v("VIN Number")]),r("province-field",{attrs:{id:"puj_code",fg_class:"col-sm-2","default-to-bc":!1}},[e._v("PUJ Code")]),r("text-field",{attrs:{id:"nsc_number",fg_class:"col-sm-5",rules:"max:14"}},[e._v("NSC Number")])],1)],1)},Zs=[],Xs={name:"VehicleInformationCard",mixins:[is],computed:Object(f["a"])({},Object(u["c"])(["getArrayOfCommonCarColors","getArrayOfVehicleYears","getArrayOfVehicleStyles","getArrayOfVehicleMakes","getArrayOfVehicleModels"]))},Qs=Xs,ea=Object(g["a"])(Qs,Ks,Zs,!1,null,"633e5792",null),ta=ea.exports,ra=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card-body text-dark text-left"},[r("div",{staticClass:"card w-100"},[r("div",{staticClass:"card-header lightgray text-dark font-weight-bold pt-2 pb-2"},[r("div",{staticClass:"row p-0 m-0"},[r("div",{staticClass:"col-6 pt-1 pl-0"},[e._v("Registered Owner")]),r("div",{staticClass:"col-6 text-right"},[r("div",{staticClass:"custom-control custom-switch"},[r("div",{staticClass:"btn btn-secondary btn-sm small",attrs:{type:"button"},on:{click:e.populateOwnerFromDriver}},[e._v("Fill from driver")])])])])]),e.isReadOnly?e._e():r("div",{staticClass:"card-body lightgray"},[r("div",[r("form-row",[r("check-field",{attrs:{fg_class:"col-sm-12",show_label:!1,id:"corporate_owner",options:["Owned by corporate entity"]}},[e._v("Corporation")])],1),r("form-row",[e.corporateOwner?r("text-field",{attrs:{id:"owners_corporation",fg_class:"col-sm-12",rules:"max:40"}},[e._v("Corporation Name")]):e._e(),e.corporateOwner?e._e():r("text-field",{attrs:{id:"owners_last_name",fg_class:"col-sm-6",rules:"max:20"}},[e._v("Owner's Last Name")]),e.corporateOwner?e._e():r("text-field",{attrs:{id:"owners_first_name",fg_class:"col-sm-6",rules:"max:20"}},[e._v("Owner's First Name")])],1),r("form-row",[r("text-field",{attrs:{id:"owners_address1",fg_class:"col-sm-12",placeholder:"Address",rules:"max:25"}},[e._v("Address Line")])],1),r("form-row",[r("type-ahead-field",{attrs:{id:"owners_city",fg_class:"col-sm-4",suggestions:e.getArrayOfBCCityNames,rules:"max:20"}},[e._v("City")]),r("province-field",{attrs:{id:"owners_province",fg_class:"col-sm-2"}},[e._v("Prov / State")]),r("text-field",{attrs:{id:"owners_postal",fg_class:"col-sm-2"}},[e._v("Postal / Zip")]),r("phone-field",{attrs:{id:"owners_phone",fg_class:"col-sm-4",rules:"phone"}},[e._v("Phone")])],1)],1)])])])},ia=[],sa={name:"VehicleOwnerCard",props:{title:String},mixins:[is],data:function(){return{owner_id:"owner_is_driver",owner_option:"Driver is the vehicle owner"}},methods:Object(f["a"])({},Object(u["d"])(["populateOwnerFromDriver"])),computed:Object(f["a"])({},Object(u["c"])(["checkBoxStatus","corporateOwner"]))},aa=sa,na=Object(g["a"])(aa,ra,ia,!1,null,null,null),oa=na.exports,la={name:"TwentyFourHourProhibition",components:{DriversInformationCard:os,FadeText:Zt,OfficerDetailsCard:ms,ProhibitionInformationCard:gs,ReasonableGroundsCard:Cs,ReturnOfLicenceCard:Ts,TestAdministeredAlcoholCard:Fs,TestAdministeredDrugsCard:Ys,VehicleImpoundmentCard:Js,VehicleInformationCard:ta,VehicleOwnerCard:oa},mixins:[Ni],computed:Object(f["a"])(Object(f["a"])({},Object(u["c"])(["getAttributeValue","getCurrentlyEditedFormData","getCurrentlyEditedFormObject","corporateOwner"])),{},{isProhibitionTypeDrugs:function(){return"Drugs 215(3)"===this.getAttributeValue("prohibition_type")},isProhibitionTypeAlcohol:function(){return"Alcohol 215(2)"===this.getAttributeValue("prohibition_type")},isPrescribedTestUsed:function(){return"Yes"===this.getAttributeValue("prescribed_device").substr(0,3)}}),props:{name:{type:String,default:"24Hour"}},mounted:function(){var e={form_type:this.name,form_id:this.id};this.editExistingForm(e),this.setNewFormDefaults(e),this.data=this.getCurrentlyEditedFormData,this.isMounted=!0},methods:Object(f["a"])(Object(f["a"])(Object(f["a"])({},Object(u["d"])(["setFormAsPrinted"])),Object(u["b"])(["saveFormAndGeneratePDF"])),{},{onSubmit:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.display_spinner=!0,r.next=3,e();case 3:if(i=r.sent,console.log("inside onSubmit()",i),!i){r.next=10;break}return r.next=8,t.saveFormAndGeneratePDF(t.getFormObject).then((function(e){console.log("form generated successfully",e),t.display_spinner=!1})).catch((function(e){console.log("form did not generate successfully",e),t.display_spinner=!1}));case 8:r.next=12;break;case 10:t.rerender++,t.isNotValid=!0;case 12:t.display_spinner=!1;case 13:case"end":return r.stop()}}),r)})))()}})},ca=la,da=(r("c500"),Object(g["a"])(ca,ht,gt,!1,null,"b76407a6",null)),ua=da.exports,_a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isMounted?r("form-container",{attrs:{title:"Notice of 12 Hour Licence Suspension"}},[r("validation-observer",{scopedSlots:e._u([{key:"default",fn:function(t){var i=t.handleSubmit,s=t.validate;return[r("form",{on:{submit:function(t){t.preventDefault(),i(e.onSubmit(s))}}},[r("drivers-information-card"),r("vehicle-information-card"),r("return-of-licence-card"),r("vehicle-impoundment-card"),r("prohibition-information-card"),r("officer-details-card"),r("form-card",{attrs:{title:"Generate PDF for Printing"}},[r("div",{staticClass:"d-flex justify-content-between"},[r("button",{staticClass:"btn btn-primary",attrs:{type:"submit",id:"btn_print_forms"}},[e._v("Print Forms "),e.display_spinner?r("b-spinner",{attrs:{small:"",label:"Loading..."}}):e._e()],1)]),r("div",{staticClass:"small text-danger pt-2"},[e.isNotValid?r("fade-text",{key:e.rerender,attrs:{"show-seconds":"3000"}},[e._v("Errors in form - check for validation errors above")]):e._e()],1)])],1)]}}],null,!1,2773510226)})],1):e._e()},ma=[],fa=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form-card",{attrs:{title:"Driver's Information"}},[r("div",[r("form-row",[r("driver-licence-number",{attrs:{id:"drivers_number",rules:e.bcdlNumberRules}},[e._v("Driver's Licence Number")]),r("jurisdiction-field",{attrs:{disabled:!0,id:"drivers_licence_jurisdiction",fg_class:"col-sm-3"}},[e._v("Prov / State / International")])],1),r("form-row",[r("text-field",{attrs:{id:"last_name",fg_class:"col-sm-4",placeholder:"Last Name",rules:"required|max:20"}},[e._v("Last Name")]),r("text-field",{attrs:{id:"first_name",fg_class:"col-sm-4",placeholder:"Given Names",rules:"required|max:20"}},[e._v("Given Names")]),r("dob-field",{attrs:{id:"dob",fg_class:"col-sm-4"}},[e._v("Date of Birth")])],1),r("form-row",[r("text-field",{attrs:{id:"address1",fg_class:"col-sm-8",placeholder:"Address",rules:"required|max:25"}},[e._v("Address")]),r("phone-field",{attrs:{id:"driver_phone",fg_class:"col-sm-4",rules:"phone"}},[e._v("Phone")])],1),r("form-row",[r("type-ahead-field",{attrs:{id:"city",fg_class:"col-sm-6",suggestions:e.getArrayOfBCCityNames,rules:"required|max:15"}},[e._v("City")]),r("province-field",{attrs:{id:"province",fg_class:"col-sm-2"}},[e._v("Prov / State")]),r("text-field",{attrs:{id:"postal",fg_class:"col-sm-4"}},[e._v("Postal / Zip")])],1)],1)])},pa=[],Ea={name:"DriversInformationCard",mixins:[is]},ba=Ea,ha=Object(g["a"])(ba,fa,pa,!1,null,"de52a0b4",null),ga=ha.exports,va=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form-card",{attrs:{title:"Vehicle information"}},[e.isReadOnly?r("div",{},[r("read-only-element",{attrs:{id:"plate_province"}},[e._v("Jurisdiction")]),r("read-only-element",{attrs:{id:"plate_number"}},[e._v("Plate Number")])],1):e._e(),r("form-row",[r("jurisdiction-field",{attrs:{id:"plate_province",fg_class:"col-sm-3"}},[e._v("Jurisdiction")]),r("plate-number",{attrs:{id:"plate_number",fg_class:"col-sm-6"}},[e._v("Plate Number")])],1),r("form-row",[r("text-field",{attrs:{id:"vehicle_year",rules:"vehicleYear",fg_class:"col-sm-2"}},[e._v("Vehicle Year")]),r("type-ahead-field",{attrs:{suggestions:e.getArrayOfVehicleMakes,id:"vehicle_make",input_type:"number",fg_class:"col-sm-2"}},[e._v("Vehicle Make")]),r("type-ahead-field",{attrs:{suggestions:e.getArrayOfVehicleModels,id:"vehicle_model",fg_class:"col-sm-3"}},[e._v("Vehicle Model")]),r("type-ahead-field",{attrs:{suggestions:e.getArrayOfCommonCarColors,id:"vehicle_color",fg_class:"col-sm-2"}},[e._v("Vehicle Colour")])],1),r("form-row",[r("province-field",{attrs:{id:"puj_code",fg_class:"col-sm-2","default-to-bc":!1}},[e._v("PUJ Code")]),r("text-field",{attrs:{id:"nsc_number",fg_class:"col-sm-7",rules:"max:14"}},[e._v("NSC Number")])],1)],1)},Oa=[],ya={name:"VehicleInformationCard",mixins:[is],computed:Object(f["a"])({},Object(u["c"])(["getArrayOfCommonCarColors","getArrayOfVehicleYears","getArrayOfVehicleMakes","getArrayOfVehicleModels","getArrayOfVehicleStyles"]))},Aa=ya,Ra=Object(g["a"])(Aa,va,Oa,!1,null,"5b326e1c",null),Ca=Ra.exports,Na=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form-card",{attrs:{title:"Prohibition"}},[r("div",[r("form-row",[r("radio-field",{attrs:{id:"prohibition_type_12hr",fg_class:"col-sm-6",rules:"required",options:["Alcohol 90.3(2)","Drugs 90.3(2.1)"]}},[e._v("Type of Prohibition (select one)")])],1),r("form-row",[r("text-field",{attrs:{id:"offence_address",fg_class:"col-sm-8",rules:"required"}},[e._v("Intersection or Address of Offence")]),r("type-ahead-field",{attrs:{id:"offence_city",fg_class:"col-sm-4",suggestions:e.getArrayOfBCCityNames,rules:e.offenceCityRules}},[e._v("City")])],1),r("form-row",[r("text-field",{attrs:{id:"file_number",fg_class:"col-sm-2",rules:"required"}},[e._v("Agency File Number")]),r("date-field",{attrs:{id:"prohibition_start_date",fg_class:"col-sm-5",rules:"required|validDt|notFutureDt|notGtYearAgo"}},[e._v(" Date of Driving - care or control ")]),r("time-field",{attrs:{id:"prohibition_start_time",fg_class:"col-sm-5",rules:"required|validTime|notFutureDateTime:@prohibition_start_date"}},[e._v(" Time of Driving - care or control ")])],1)],1)])},Da=[],Ia={name:"ProhibitionInformationCard",mixins:[is]},xa=Ia,Sa=Object(g["a"])(xa,Na,Da,!1,null,"be8bf7c0",null),Ta=Sa.exports,wa=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form-card",{attrs:{title:"Vehicle Disposition"}},[r("div",[r("form-row",[r("radio-field",{attrs:{id:"vehicle_impounded",fg_class:"col-sm-6",rules:"required",options:["Yes","No"]}},[e._v("Vehicle Towed?")])],1),r("form-row",[r("radio-field",{attrs:{id:"reason_for_not_impounding",fg_class:"col-sm-6",options:["Released to other driver","Left at roadside"],visible:e.showVehicleNotImpounded}},[e._v("Reason for not towing?")])],1),e.isReleasedToOtherDriver?r("form-row",[r("text-field",{attrs:{id:"vehicle_released_to",visible:e.showVehicleNotImpounded,fg_class:"col-sm-6"}},[e._v(" Vehicle Released To")]),r("date-field",{attrs:{id:"released_date",fg_class:"col-sm-3",visible:e.showVehicleNotImpounded,rules:"required|validDt|notFutureDt|notGtYearAgo"}},[e._v("Date Released")]),r("time-field",{attrs:{id:"released_time",fg_class:"col-sm-3",visible:e.showVehicleNotImpounded,rules:"required|validTime|notFutureDateTime:@released_date"}},[e._v("Time")])],1):e._e(),r("form-row",[r("radio-field",{attrs:{id:"location_of_keys",visible:e.showVehicleImpounded,fg_class:"col-sm-6",rules:"required",options:["With vehicle","With driver"]}},[e._v("Location of Keys?")])],1),r("form-row",[r("type-ahead-field",{attrs:{id:"impound_lot_operator",fg_class:"col-sm-12",visible:e.showVehicleImpounded,rules:"required",suggestions:e.getArrayOfImpoundLotOperators}},[e._v("Tow Operator (name, lot address, city & phone)")])],1)],1)])},La=[],Pa={name:"VehicleImpoundmentCard",mixins:[is],computed:Object(f["a"])(Object(f["a"])({},Object(u["c"])(["getAttributeValue","getArrayOfImpoundLotOperators"])),{},{showVehicleImpounded:function(){return"Yes"===this.getAttributeValue("vehicle_impounded")},showVehicleNotImpounded:function(){return"No"===this.getAttributeValue("vehicle_impounded")},isReleasedToOtherDriver:function(){return"Released to other driver"===this.getAttributeValue("reason_for_not_impounding")}})},Va=Pa,ja=Object(g["a"])(Va,wa,La,!1,null,"09e7ac99",null),Fa=ja.exports,Ua={name:"TwelveTwentyFour",mixins:[Ni],components:{FadeText:Zt,ProhibitionInformationCard:Ta,DriversInformationCard:ga,OfficerDetailsCard:ms,ReturnOfLicenceCard:Ts,VehicleInformationCard:Ca,VehicleImpoundmentCard:Fa},props:{name:{type:String,default:"12Hour"}},mounted:function(){var e={form_type:this.name,form_id:this.id};this.editExistingForm(e),this.setNewFormDefaults(e),this.data=this.getCurrentlyEditedFormData,this.isMounted=!0},computed:Object(f["a"])({},Object(u["c"])(["getCurrentlyEditedFormObject","getPdfFileNameString"])),methods:Object(f["a"])(Object(f["a"])(Object(f["a"])({},Object(u["d"])(["setFormAsPrinted"])),Object(u["b"])(["saveFormAndGeneratePDF"])),{},{onSubmit:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.display_spinner=!0,r.next=3,e();case 3:if(i=r.sent,console.log("inside onSubmit()",i),!i){r.next=8;break}return r.next=8,t.saveFormAndGeneratePDF(t.getFormObject).then((function(){t.display_spinner=!1})).catch((function(){t.display_spinner=!1,t.rerender++,t.isNotValid=!0}));case 8:t.display_spinner=!1;case 9:case"end":return r.stop()}}),r)})))()}})},ka=Ua,Ma=(r("cd75"),Object(g["a"])(ka,_a,ma,!1,null,"58a48341",null)),Ba=Ma.exports,Ha=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form-container",{attrs:{title:"Immediate Roadside Prohibition"}},[r("form-card",{attrs:{title:"Vehicle Licence Plate"}},[r("form-row",[r("province-field",{attrs:{id:"plate_province",fg_class:"col-sm-2"}},[e._v("Jurisdiction")]),r("plate-number",{attrs:{id:"plate_number",fg_class:"col-sm-6"}},[e._v("Plate Number")])],1)],1),r("form-card",{attrs:{title:"Registered Owner"}},[r("form-row",[r("radio-field",{attrs:{id:"driver_is_owner",fg_class:"col-sm-6",options:["Yes","No"]}},[e._v("Driver is registered owner?")]),e.isJurisdictionBC?r("text-field",{attrs:{id:"owners_drivers_number"}},[e._v("Owner's Licence Number (BC only)")]):e._e()],1),r("form-row",[r("text-field",{attrs:{id:"owners_last_name",fg_class:"col-sm-6"}},[e._v("Owner's Last Name")]),r("text-field",{attrs:{id:"owners_first_name",fg_class:"col-sm-6"}},[e._v("Owner's First Name")])],1),r("form-row",[r("text-field",{attrs:{id:"owners_address1",fg_class:"col-sm-12",placeholder:"Address",rules:"required"}},[e._v("Address Line 1")])],1),r("form-row",[r("text-field",{attrs:{id:"owners_address2",fg_class:"col-sm-12",placeholder:"Address"}},[e._v("Address Line 2")])],1),r("form-row",[r("type-ahead-field",{attrs:{id:"owners_city",fg_class:"col-sm-4",suggestions:e.getArrayOfBCCityNames,rules:"required"}},[e._v("City")]),r("province-field",{attrs:{id:"owners_province",fg_class:"col-sm-2"}},[e._v("Province")]),r("text-field",{attrs:{id:"owners_postal",fg_class:"col-sm-2"}},[e._v("Postal / Zip")]),r("phone-field",{attrs:{id:"owners_phone",fg_class:"col-sm-4",rules:"phone"}},[e._v("Phone")])],1)],1),r("form-card",{attrs:{title:"Vehicle information"}},[r("form-row",[r("text-field",{attrs:{id:"plate_year",fg_class:"col-sm-4"}},[e._v("Plate Year")]),r("text-field",{attrs:{id:"plate_val_tag",input_type:"number",fg_class:"col-sm-4"}},[e._v("Plate Val Tag")]),r("text-field",{attrs:{id:"registration_number",fg_class:"col-sm-4"}},[e._v("Registration Number")])],1),r("form-row",[r("text-field",{attrs:{id:"vehicle_year",fg_class:"col-sm-3"}},[e._v("Vehicle Year")]),r("text-field",{attrs:{id:"vehicle_make",input_type:"number",fg_class:"col-sm-3"}},[e._v("Vehicle Make")]),r("text-field",{attrs:{id:"vehicle_model",fg_class:"col-sm-3"}},[e._v("Vehicle Model")]),r("text-field",{attrs:{id:"vehicle_color",fg_class:"col-sm-3"}},[e._v("Vehicle Colour")])],1),r("form-row",[r("text-field",{attrs:{id:"puj_code",fg_class:"col-sm-5"}},[e._v("PUJ Code")]),r("text-field",{attrs:{id:"nsc_number",fg_class:"col-sm-7"}},[e._v("NSC Number")])],1)],1),e.driverIsNotRegisteredOwner?r("form-card",{attrs:{title:"Driver's Information"}},[r("form-row",[r("province-field",{attrs:{id:"drivers_licence_jurisdiction",fg_class:"col-sm-2"}},[e._v("Jurisdiction")]),r("driver-licence-number",{attrs:{id:"drivers_number"}},[e._v("Driver's Licence Number")])],1),r("form-row",[r("text-field",{attrs:{id:"last_name",fg_class:"col-sm-4",placeholder:"Last Name",rules:"required"}},[e._v("Last Name")]),r("text-field",{attrs:{id:"first_name",fg_class:"col-sm-4",placeholder:"First Name",rules:"required"}},[e._v("First Name")]),r("dob-field",{attrs:{id:"dob",fg_class:"col-sm-4",rules:"dob"}},[e._v("Date of Birth")])],1),r("form-row",[r("text-field",{attrs:{id:"address1",fg_class:"col-sm-12",placeholder:"Address",rules:"required"}},[e._v("Address Line 1")])],1),r("form-row",[r("text-field",{attrs:{id:"address2",fg_class:"col-sm-12",placeholder:"Address"}},[e._v("Address Line 2")])],1),r("form-row",[r("type-ahead-field",{attrs:{id:"city",fg_class:"col-sm-6",suggestions:e.getArrayOfBCCityNames,rules:"required"}},[e._v("City")]),r("province-field",{attrs:{id:"province",fg_class:"col-sm-4"}},[e._v("Province")]),r("text-field",{attrs:{id:"postal",fg_class:"col-sm-2"}},[e._v("Postal / Zip")])],1)],1):e._e(),r("form-card",{attrs:{title:"Details"}},[r("form-row",[r("text-field",{attrs:{id:"agency",fg_class:"col-sm-2"}},[e._v("Agency")]),r("text-field",{attrs:{id:"file_number",fg_class:"col-sm-3"}},[e._v("File Number")]),r("date-time",{attrs:{id:"prohibition_start_time",fg_class:"col-sm-7"}},[e._v(" Time of driving, care or control ")])],1)],1),r("form-submission-buttons"),r("print-confirmation-modal",{attrs:{id:"printConfirmationModal",title:"printConfirmation"}})],1)},Ya=[],Ga={name:"ImmediateRoadsideProhibition",mixins:[Ni]},za=Ga,qa=Object(g["a"])(za,Ha,Ya,!1,null,null,null),$a=qa.exports,Wa=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isMounted?r("form-container",{attrs:{title:"Vehicle Impoundment"}},[r("validation-observer",{scopedSlots:e._u([{key:"default",fn:function(t){var i=t.handleSubmit,s=t.invalid;return[r("form",{on:{submit:function(t){t.preventDefault(),i(e.onSubmit(s))}}},[r("drivers-information-card"),r("vehicle-information-card"),r("vehicle-owner-card"),r("vehicle-impoundment-card"),r("reasonable-grounds-card"),r("officer-details-card"),r("form-card",{attrs:{title:"Generate PDF for Printing"}},[r("div",{staticClass:"d-flex justify-content-between"},[r("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:s}},[e._v("PDF "),e.display_spinner?r("b-spinner",{attrs:{small:"",label:"Loading..."}}):e._e()],1)]),r("div",{staticClass:"small text-danger pt-2"},[e.isNotValid?r("fade-text",{key:e.rerender,attrs:{"show-seconds":"3000"}},[e._v("Errors in form - check above")]):e._e()],1)])],1)]}}],null,!1,1536061116)})],1):e._e()},Ja=[],Ka=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form-card",{attrs:{title:"Driver's Information"}},[r("form-row",[r("jurisdiction-field",{attrs:{id:"drivers_licence_jurisdiction",fg_class:"col-sm-3"}},[e._v("Prov / State / International")]),r("driver-licence-number",{attrs:{id:"drivers_number"}},[e._v("Driver's Licence Number")])],1),r("form-row",[r("text-field",{attrs:{id:"last_name",fg_class:"col-sm-4",placeholder:"Last Name",rules:"required|lt25"}},[e._v("Last Name")]),r("text-field",{attrs:{id:"first_name",fg_class:"col-sm-4",placeholder:"First Name",rules:"lt25"}},[e._v("First Name")]),r("dob-field",{attrs:{id:"dob",fg_class:"col-sm-4",rules:"dob8|dob"}},[e._v("Date of Birth")])],1),r("form-row",[r("text-field",{attrs:{id:"expiry_year",fg_class:"col-sm-4",rules:"lt5"}},[e._v("Expiry Year")]),r("text-field",{attrs:{id:"driver_gender",fg_class:"col-sm-4",rules:"lt3"}},[e._v("Gender")]),r("text-field",{attrs:{id:"dl_class",fg_class:"col-sm-4",rules:"lt3"}},[e._v("DL Class")])],1)],1)},Za=[],Xa={name:"DriversInformationCard",mixins:[is]},Qa=Xa,en=Object(g["a"])(Qa,Ka,Za,!1,null,null,null),tn=en.exports,rn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form-card",{attrs:{title:"Officer"}},[r("form-row",[r("text-field",{attrs:{id:"badge_number",rules:"required",fg_class:"col-sm-2"}},[e._v("Badge #")]),r("text-field",{attrs:{id:"officer_name",rules:"required",fg_class:"col-sm-8"}},[e._v("Last Name of Peace Officer Serving Prohibition Notice")])],1),r("form-row",[r("type-ahead-field",{attrs:{id:"agency",rules:"required",fg_class:"col-sm-6",suggestions:e.getArrayOfAgencies}},[e._v(" Agency ")]),r("text-field",{attrs:{id:"file_number",fg_class:"col-sm-4",rules:"required"}},[e._v("Agency File #")])],1)],1)},sn=[],an={name:"OfficerDetailsCard",mixins:[is]},nn=an,on=Object(g["a"])(nn,rn,sn,!1,null,null,null),ln=on.exports,cn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form-card",{attrs:{title:"Vehicle information"}},[r("form-row",[r("jurisdiction-field",{attrs:{id:"plate_province",fg_class:"col-sm-3"}},[e._v("Jurisdiction")]),r("plate-number",{attrs:{id:"plate_number",fg_class:"col-sm-6"}},[e._v("Plate Number")])],1),r("form-row",[r("text-field",{attrs:{id:"plate_year",fg_class:"col-sm-4"}},[e._v("Plate Year")]),r("text-field",{attrs:{id:"plate_val_tag",input_type:"number",fg_class:"col-sm-4"}},[e._v("Plate Val Tag")]),r("text-field",{attrs:{id:"registration_number",fg_class:"col-sm-4"}},[e._v("Registration Number")])],1),r("form-row",[r("type-ahead-field",{attrs:{suggestions:e.getArrayOfVehicleYears,id:"vehicle_year",fg_class:"col-sm-2"}},[e._v("Vehicle Year")]),r("type-ahead-field",{attrs:{suggestions:e.getArrayOfVehicleMakes,id:"vehicle_make",input_type:"number",fg_class:"col-sm-3"}},[e._v("Vehicle Make")]),r("type-ahead-field",{attrs:{suggestions:e.getArrayOfVehicleModels,id:"vehicle_model",fg_class:"col-sm-3"}},[e._v("Vehicle Model")]),r("type-ahead-field",{attrs:{suggestions:e.getArrayOfVehicleStyles,id:"vehicle_type",fg_class:"col-sm-2"}},[e._v("Vehicle Type")]),r("type-ahead-field",{attrs:{suggestions:e.getArrayOfCommonCarColors,id:"vehicle_color",fg_class:"col-sm-2"}},[e._v("Vehicle Colour")])],1),r("form-row",[r("text-field",{attrs:{id:"vin_number",fg_class:"col-sm-12"}},[e._v("VIN Number")]),r("check-field",{attrs:{show_label:!1,id:"nsc_number",fg_class:"col-sm-12",options:["NSC"]}},[e._v("NSC")])],1)],1)},dn=[],un={name:"VehicleInformationCard",mixins:[is],computed:Object(f["a"])({},Object(u["c"])(["getArrayOfCommonCarColors","getArrayOfVehicleYears","getArrayOfVehicleStyles","getArrayOfVehicleMakes","getArrayOfVehicleModels"]))},_n=un,mn=Object(g["a"])(_n,cn,dn,!1,null,"300e0038",null),fn=mn.exports,pn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card-body text-dark text-left"},[r("div",{staticClass:"card w-100"},[r("div",{staticClass:"card-header lightgray text-dark font-weight-bold pt-2 pb-2"},[r("div",{staticClass:"row p-0 m-0"},[r("div",{staticClass:"col-6 pt-1 pl-0"},[e._v("Registered Owner")]),r("div",{staticClass:"col-6 text-right"},[r("div",{staticClass:"custom-control custom-switch"},[r("div",{staticClass:"btn btn-outline-primary btn-sm small",attrs:{type:"button"},on:{click:e.populateOwnerFromDriver}},[e._v("Fill from driver")])])])])]),e.isReadOnly?e._e():r("div",{staticClass:"card-body lightgray"},[r("div",[r("form-row",[r("check-field",{attrs:{fg_class:"col-sm-12",show_label:!1,id:"corporate_owner",options:["Owned by corporate entity"]}},[e._v("Corporation")])],1),r("form-row",[e.corporateOwner?r("text-field",{attrs:{id:"owners_corporation",fg_class:"col-sm-12"}},[e._v("Corporation Name")]):e._e(),e.corporateOwner?e._e():r("text-field",{attrs:{id:"owners_last_name",fg_class:"col-sm-6"}},[e._v("Owner's Last Name")]),e.corporateOwner?e._e():r("text-field",{attrs:{id:"owners_first_name",fg_class:"col-sm-6"}},[e._v("Owner's First Name")])],1),r("form-row",[r("text-field",{attrs:{id:"owners_address1",fg_class:"col-sm-8",placeholder:"Address",rules:"lt25"}},[e._v("Address Line 1")]),r("dob-field",{attrs:{id:"owner_dob",fg_class:"col-sm-4",rules:"dob8|dob"}},[e._v("Date of Birth")])],1),r("form-row",[r("type-ahead-field",{attrs:{id:"owners_city",fg_class:"col-sm-4",suggestions:e.getArrayOfBCCityNames}},[e._v("City")]),r("province-field",{attrs:{id:"owners_province",fg_class:"col-sm-2"}},[e._v("Province")]),r("text-field",{attrs:{id:"owners_postal",fg_class:"col-sm-2"}},[e._v("Postal / Zip")]),r("phone-field",{attrs:{id:"owners_phone",fg_class:"col-sm-4",rules:"phone"}},[e._v("Phone")])],1)],1)])])])},En=[],bn={name:"VehicleOwnerCard",props:{title:String},mixins:[is],data:function(){return{owner_id:"owner_is_driver",owner_option:"Driver is the vehicle owner"}},methods:Object(f["a"])({},Object(u["d"])(["populateOwnerFromDriver"])),computed:Object(f["a"])({},Object(u["c"])(["checkBoxStatus","corporateOwner"]))},hn=bn,gn=Object(g["a"])(hn,pn,En,!1,null,null,null),vn=gn.exports,On=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form-card",{attrs:{title:"Vehicle Impounded Details"}},[r("form-row",[r("text-field",{attrs:{id:"offence_address",fg_class:"col-sm-8",rules:"required"}},[e._v("Intersection or Address of Offence")]),r("type-ahead-field",{attrs:{id:"offence_city",fg_class:"col-sm-4",suggestions:e.getArrayOfBCCityNames,rules:"required"}},[e._v("City")])],1),r("form-row",[r("date-time",{attrs:{id:"prohibition_start_time",fg_class:"col-sm-4",rules:"required"}},[e._v(" Time of driving, care or control ")])],1),r("form-row",[r("date-field",{attrs:{id:"impounded_dt",fg_class:"col-sm-4"}},[e._v("The motor vehicle was impounded on")]),r("type-ahead-field",{attrs:{id:"impound_lot_operator",fg_class:"col-sm-8",suggestions:e.getArrayOfImpoundLotOperators}},[e._v("Impound Lot Operator (name, lot address, city & phone)")])],1)],1)},yn=[],An={name:"VehicleImpoundmentCard",mixins:[is],computed:Object(f["a"])({},Object(u["c"])(["getAttributeValue","getArrayOfImpoundLotOperators"]))},Rn=An,Cn=Object(g["a"])(Rn,On,yn,!1,null,"151babf0",null),Nn=Cn.exports,Dn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form-card",{attrs:{title:"Reasonable Grounds"}},[r("div",[r("form-row",[r("text-field",{attrs:{id:"ul_prohibition_number",fg_class:"col-sm-6"}},[e._v("UL Prohibition Number")]),r("text-field",{attrs:{id:"ipr_number",fg_class:"col-sm-6"}},[e._v("IRP Number")])],1),r("form-row",[r("radio-field",{attrs:{id:"impound_duration",fg_class:"col-sm-12",options:["3-Day","7-Day","30-Day"]}},[e._v(" Impoundment Duration "),r("span",{staticClass:"text-muted"},[e._v("(in accordance with section 215.46 and 253 of the Motor Vehicle Act)")])])],1),r("form-row",[r("rich-check-field",{attrs:{id:"reasons-seven-day",fg_class:"col-sm-12",options:e.seven_day_options}},[e._v(" 7-Day Impoundment for the following reason(s) "),r("span",{staticClass:"text-muted"},[e._v("Section 251 and 253 of the Motor Vehicle Act")])])],1)],1)])},In=[],xn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.visible?r("div",{staticClass:"form-group",class:e.fg_class},[e.show_label?r("label",{attrs:{for:e.id}},[e._t("default")],2):e._e(),e._l(e.options,(function(t){return r("div",{key:t.id,staticClass:"form-group form-check"},[r("input",{staticClass:"form-check-input",attrs:{id:t.id,type:"checkbox",disabled:e.disabled},domProps:{value:t.value},on:{change:e.checkboxChanged}}),r("label",{staticClass:"form-check-label",attrs:{for:t.id},domProps:{innerHTML:e._s(t.value)}})])}))],2):e._e()},Sn=[],Tn={name:"RichCheckField",mixins:[Ct],props:{type:String(),options:null},methods:Object(f["a"])(Object(f["a"])({},Object(u["b"])(["updateRichCheckBox"])),{},{checkboxChanged:function(e){var t={id:this.id,event:e.target,form_object:this.getCurrentlyEditedFormObject};this.updateRichCheckBox(t)}}),computed:Object(f["a"])({},Object(u["c"])(["getAttributeValue","getCurrentlyEditedFormObject"]))},wn=Tn,Ln=Object(g["a"])(wn,xn,Sn,!1,null,null,null),Pn=Ln.exports,Vn={name:"ReasonableGroundsCard",components:{RichCheckField:Pn},mixins:[is],computed:{seven_day_options:function(){return[{id:"excessive",value:"Excessive Speed <span class='text-muted'>- Committing an offence under section 148 of the Motor Vehicle Act</span>"},{id:"prohibited",value:"Prohibited <span class='text-muted'>- Driving while prohibited under the Motor Vehicle Act, Criminal Code, Youth Justice Act or Youth Criminal Justice Act (Canada).</span>"},{id:"suspended",value:"Suspended <span class='text-muted'>- Driving while suspended under section 89 or section 232 of the Motor Vehicle Act.</span>"},{id:"racing",value:"Street Racing <span class='text-muted'>- Driving or operating a motor vehicle in a race as defined in the Motor Vehicle Act and the officer intends to charge with an offence.</span>"},{id:"stunt",value:"Stunt Driving <span class='text-muted'>- Driving or operating a motor vehicle in a stunt as defined in the Motor Vehicle Act and the officer intends to charge with an offence.</span>"},{id:"motorcycle-seating",value:"Motorcycle (seating) <span class='text-muted'>- Committing an offence under section 194 (1) or (2) of the Motor Vehicle Act.</span>"},{id:"motorcycle-restrictions",value:"Motorcycle (restrictions) <span class='text-muted'>- Committing an offence under section 25(15) of the Motor Vehicle Act relating to a restriction or condition of a motorcycle learner or novice driver’s licence.</span>"},{id:"unlicensed",value:"Unlicensed (UL) <span class='text-muted'> - Driving without a valid driver’s licence and with a notice on the driving record indicating a previous conviction for driving while unlicensed</span>"}]}}},jn=Vn,Fn=Object(g["a"])(jn,Dn,In,!1,null,null,null),Un=Fn.exports,kn={name:"VehicleImpoundment",components:{ReasonableGroundsCard:Un,VehicleImpoundmentCard:Nn,DriversInformationCard:tn,FadeText:Zt,OfficerDetailsCard:ln,VehicleInformationCard:fn,VehicleOwnerCard:vn},mixins:[Ni],computed:Object(f["a"])({},Object(u["c"])(["getAttributeValue","getCurrentlyEditedFormData","getCurrentlyEditedFormObject","corporateOwner"])),props:{name:{type:String,default:"VI"}},data:function(){return{isNotValid:!1,rerender:1}},mounted:function(){var e={form_type:this.name,form_id:this.id};this.editExistingForm(e),this.setNewFormDefaults(e),this.data=this.getCurrentlyEditedFormData,this.isMounted=!0},methods:Object(f["a"])(Object(f["a"])(Object(f["a"])({},Object(u["d"])(["setFormAsPrinted"])),Object(u["b"])(["saveFormAndGeneratePDF"])),{},{onSubmit:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(console.log("inside onSubmit()",e),e){r.next=5;break}return t.display_spinner=!0,r.next=5,t.saveFormAndGeneratePDF(t.getFormObject).then((function(){t.display_spinner=!1})).catch((function(){t.display_spinner=!1,t.rerender++,t.isNotValid=!0}));case 5:case"end":return r.stop()}}),r)})))()}})},Mn=kn,Bn=(r("717f"),Object(g["a"])(Mn,Wa,Ja,!1,null,"2ecf575a",null)),Hn=Bn.exports,Yn=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card bg-light border-secondary mb-3"},[r("div",{staticClass:"card-body text-dark"},[r("div",{staticClass:"font-weight-bold"},[e._v("Page Not Found")]),e._v(" Try going back "),r("router-link",{staticClass:"font-weight-bold",attrs:{to:"/"}},[r("span",{staticClass:"text-primary"},[e._v("Home")])])],1)])},Gn=[],zn={name:"NotFound"},qn=zn,$n=Object(g["a"])(qn,Yn,Gn,!1,null,null,null),Wn=$n.exports;d["default"].use(G["a"]);var Jn=new G["a"]({mode:"history",base:"/roadside-forms/",routes:[{path:"/",name:"Home",component:ze},{path:"/admin",name:"Admin",component:ut,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:bt,meta:{requiresAuth:!0}},{path:"/24Hour/:id",name:"24Hour",component:ua,props:!0},{path:"/12Hour/:id",name:"12Hour",component:Ba,props:!0},{path:"/IRP/:id",name:"IRP",component:$a,props:!0},{path:"/VI/:id",name:"VI",component:Hn,props:!0},{path:"/:pathMatch(.*)*",name:"NotFound",component:Wn}],scrollBehavior:function(){return{x:0,y:0}}});function Kn(e){return new Promise((function(t){return setTimeout(t,e)}))}Jn.beforeEach(function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,r,i){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.matched.some((function(e){return e.meta.requiresAuth}))){e.next=9;break}case 1:if(null!==Jn.app.$keycloak.createLoginUrl){e.next=6;break}return e.next=4,Kn(100);case 4:e.next=1;break;case 6:Jn.app.$keycloak.authenticated?i():(s=Jn.app.$keycloak.createLoginUrl(),window.location.replace(s)),e.next=10;break;case 9:i();case 10:case"end":return e.stop()}}),e)})));return function(t,r,i){return e.apply(this,arguments)}}());var Zn=Jn,Xn=(r("dcb3"),r("b85c")),Qn=r("3835"),eo=(r("4de4"),r("d81d"),r("a434"),{getAllAvailableForms:function(e){return e.form_schemas.forms},getArrayOfAllFormNames:function(e){var t=[];for(var r in e.form_schemas.forms)t.push(r);return t},getAppVersion:function(e){return e.version},getAllEditedForms:function(e){var t=Array();for(var r in e.forms)for(var i in e.forms[r])"data"in e.forms[r][i]&&t.push(e.forms[r][i]);return t},getCurrentlyEditedFormObject:function(e){return e.currently_editing_form_object},getCurrentlyEditedFormId:function(e){return e.currently_editing_form_object.form_id},getFormData:function(e){return function(t,r){return e.forms[t][r].data}},getCurrentlyEditedFormData:function(e){var t=e.currently_editing_form_object,r=e.forms[t.form_type][t.form_id];return r.data},getAttributeValue:function(e){return function(t){var r=e.currently_editing_form_object,i=e.forms[r.form_type][r.form_id].data;return t in i?i[t]:""}},checkBoxStatus:function(e){return function(t,r){var i=e.currently_editing_form_object,s=e.forms[i.form_type][i.form_id].data;return t in s&&s[t].includes(r)}},getArrayOfBCCityNames:function(e){return e.cities},getArrayOfAgencies:function(e){return e.agencies},getArrayOfCommonCarColors:function(e){return e.colors},getArrayOfVehicleYears:function(){for(var e=oe["a"].MIN_VEHICLE_YEAR,t=oe["a"].MAX_VEHICLE_YEAR,r=[],i=e;i<=t;i++)r.push(String(i));return r},getArrayOfVehicleMakes:function(e){return e.vehicles.map((function(e){return e.make})).filter(to)},getArrayOfVehicleModels:function(e){var t=e.currently_editing_form_object,r=e.forms[t.form_type][t.form_id].data.vehicle_make,i=e.vehicles.filter((function(e){return e.make===r}));return i.length>0?i.map((function(e){return String(e.model)})):[]},getArrayOfVehicleStyles:function(e){return e.vehicle_styles},isRecentProhibitions:function(e){for(var t in e.forms)for(var r in e.forms[t])if("data"in e.forms[t][r])return!0;return!1},isFormEditable:function(e){return function(t){return!e.forms[t.form_type][t.form_id].printed_timestamp}},hasFormBeenPrinted:function(e){var t=e.currently_editing_form_object;return Boolean(e.forms[t.form_type][t.form_id].printed_timestamp)},getServedStatus:function(e){return function(t){return e.forms[t.form_type][t.form_id].printed_timestamp?"Printed":"Not Printed"}},getPdfFileNameString:function(e){return function(t,r){var i=".pdf",s=e.forms[t.form_type][t.form_id],a=s.data.last_name,n=s.form_id;return a+"_"+n+"_"+r+i}},getPDFTemplateFileName:function(e){return function(t){var r=e.currently_editing_form_object;return e.form_schemas.forms[r.form_type].documents[t].pdf}},getPagesToPrint:function(e,t){return function(r){var i=e.form_schemas.forms[r.form_type].documents["all"].variants;if(!t.isVehicleImpounded(r)){var s=i.indexOf("ilo");return s>-1&&i.splice(s,1),i}return i}},isVehicleImpounded:function(e){return function(t){return"Yes"===e.forms[t.form_type][t.form_id].data.vehicle_impounded}},getArrayOfJurisdictions:function(e){return e.jurisdictions},getArrayOfProvinces:function(e){return e.provinces},getArrayOfImpoundLotOperators:function(e){return e.impound_lot_operators.map((function(e){return e.name+", "+e.lot_address+", "+e.city+", "+e.phone}))},getArrayOfPickupLocations:function(e){return e.pickup_locations.map((function(e){return e.address+", "+e.city}))},isDisplayIcbcPlateLookup:function(e,t){var r=e.currently_editing_form_object,i=e.forms[r.form_type][r.form_id].data;return"British Columbia"===i["plate_province"]&&t.isUserAuthorized},isDisplayIcbcLicenceLookup:function(e,t){return t.isLicenceJurisdictionBC&&t.isUserAuthorized},isLicenceJurisdictionBC:function(e){var t=e.currently_editing_form_object,r=e.forms[t.form_type][t.form_id].data;return"British Columbia"===r["drivers_licence_jurisdiction"]},corporateOwner:function(e){var t=e.currently_editing_form_object,r=e.forms[t.form_type][t.form_id].data;return!!r["corporate_owner"]&&r["corporate_owner"].includes("Owned by corporate entity")},areNewUniqueIdsRequiredByType:function(e,t){return function(r){return console.log("inside areNewUniqueIdsRequiredByType",r),!1===e.form_schemas.forms[r].disabled&&t.getFormTypeCount[r]<oe["a"].MINIMUM_NUMBER_OF_UNIQUE_IDS_PER_TYPE}},getFormTypeCount:function(e){var t={};for(var r in e.forms)for(var i in t[r]=0,e.forms[r])"data"in e.forms[r][i]||t[r]++;return t},getNextAvailableUniqueIdByType:function(e){return function(t){for(var r in console.log("inside getNextAvailableUniqueIdByType()",t),e.forms[t])if(!("data"in e.forms[t][r]))return r}},arrayOfFormsRequiringRenewal:function(e){var t=Array();for(var r in e.forms)for(var i in e.forms[r]){var s=e.forms[r][i],a=kt()(s.lease_expiry).diff(kt()(),"days");!s.printed_timestamp&&a<oe["a"].UNIQUE_ID_REFRESH_DAYS&&t.push(s)}return t},apiHeader:function(e){var t=new Headers;return t.set("Content-Type","application/json"),e.keycloak.token&&t.set("Authorization","Bearer "+e.keycloak.token),t},getKeycloakUsername:function(e){return e.keycloak?e.keycloak.userName:""},getAgencyName:function(e){return e.keycloak&&e.keycloak.idTokenParsed&&e.keycloak.idTokenParsed.bceid_business_name?e.keycloak.idTokenParsed.bceid_business_name:""},getFormPrintValue:function(e){return function(t,r){var i=e.forms[t.form_type][t.form_id].data;return r in i?i[r].toUpperCase():""}},getFormDateTimeString:function(e){return function(t,r){var i=Object(Qn["a"])(r,2),s=i[0],a=i[1],n=e.forms[t.form_type][t.form_id].data;if(!(s in n)||!(a in n))return"";var o=kt.a.tz(n[s]+" "+n[a],"YYYYMMDD HHmm",!0,oe["a"].TIMEZONE);return o.format("YYYY-MM-DD HH:mm")}},getFormDateTime:function(e){return function(t,r){var i=Object(Qn["a"])(r,2),s=i[0],a=i[1],n=e.forms[t.form_type][t.form_id].data;return s in n&&a in n?kt.a.tz(n[s]+" "+n[a],"YYYYMMDD HHmm",!0,oe["a"].TIMEZONE):""}},getFormPrintRadioValue:function(e){return function(t,r,i){var s=e.forms[t.form_type][t.form_id].data;return r in s&&s[r]===i}},getFormPrintCheckedValue:function(e){return function(t,r,i){var s=e.forms[t.form_type][t.form_id].data;return r in s?s[r].includes(i):""}},getFormPrintJurisdiction:function(e){return function(t,r){var i=e.forms[t.form_type][t.form_id].data;if(!(r in i))return"";var s=e.jurisdictions.filter((function(e){return e["objectDsc"]===i[r]}));return s[0]["objectCd"].toUpperCase()}},isUserAnAdmin:function(e){if(Array.isArray(e.user_roles)){var t,r=Object(Xn["a"])(e.user_roles);try{for(r.s();!(t=r.n()).done;){var i=t.value;if("role_name"in i&&"administrator"===i.role_name)return!0}}catch(s){r.e(s)}finally{r.f()}}return!1},isUserAuthenticated:function(e){return e.keycloak.authenticated&&e.keycloak.ready},isUserAuthorized:function(e){if(Array.isArray(e.user_roles)){var t,r=Object(Xn["a"])(e.user_roles);try{for(r.s();!(t=r.n()).done;){var i=t.value;if("approved_dt"in i&&i.approved_dt)return!0}}catch(s){r.e(s)}finally{r.f()}}return!1},getAllUsers:function(e){return e.admin_users},hasUserApplied:function(e){return!(!Array.isArray(e.user_roles)||null!==e.user_roles[0].approved_dt)},isAppAvailableToWorkOffline:function(e,t){return t.isUserHasAtLeastOneFormId&&t.getArrayOfCommonCarColors.length>0},isUserHasAtLeastOneFormId:function(e,t){var r=t.getFormTypeCount;for(var i in r)if(r[i]>0)return!0;return!1},isDisplayUserNotAuthorizedBanner:function(e,t){return t.isUserAuthenticated&&!t.isUserAuthorized&&e.keycloak.ready},isDisplayIssueProhibitions:function(e,t){return t.isUserAuthorized||t.isAppAvailableToWorkOffline},isDisplayFeedbackBanner:function(e,t){return t.isUserAuthorized},isDisplayNotLoggedInBanner:function(e,t){return!t.isUserAuthenticated&&e.isOnline&&t.isAppAvailableToWorkOffline},isDisplaySearchRecentProhibition:function(e,t){return t.isUserAuthorized},isDisplayWelcomeLoginCard:function(e,t){return!t.isAppAvailableToWorkOffline&&!t.isUserAuthenticated&&e.keycloak.ready},isTestAdministeredADSE:function(e,t){var r=t.getAttributeValue("test_administered_adse");return!!Array.isArray(r)&&r.includes("Approved Drug Screening Equipment")},isTestAdministeredSFST:function(e,t){var r=t.getAttributeValue("test_administered_sfst");return!!Array.isArray(r)&&r.includes("Prescribed Physical Coordination Test (SFST)")},isTestAdministeredDRE:function(e,t){var r=t.getAttributeValue("test_administered_dre");return!!Array.isArray(r)&&r.includes("Prescribed Physical Coordination Test (DRE)")},isTestAdministeredASD:function(e,t){var r=t.getAttributeValue("test_administered_asd");return!!Array.isArray(r)&&r.includes("Alco-Sensor FST (ASD)")},isTestAdministeredApprovedInstrument:function(e,t){var r=t.getAttributeValue("test_administered_instrument");return!!Array.isArray(r)&&r.includes("Approved Instrument")},locationOfVehicle:function(e){return function(t){var r=e.forms[t.form_type][t.form_id].data;return"vehicle_impounded"in r?"Yes"===r["vehicle_impounded"]?"24Hour"===t.form_type?"IMPOUNDED":"":"No"===r["vehicle_impounded"]?"reason_for_not_impounding"in r?r["reason_for_not_impounding"].toUpperCase():"":void 0:""}}});function to(e,t,r){return r.indexOf(e)===t}r("3ca3"),r("ddb0"),r("159b"),r("e9c4");var ro=r("3f4f"),io="roadsafety-digital-forms",so=1,ao="forms",no=Object(ro["a"])(io,so,{upgrade:function(e){e.createObjectStore(ao)}});function oo(){return lo.apply(this,arguments)}function lo(){return lo=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,no;case 2:return e.abrupt("return",e.sent.getAll(ao));case 3:case"end":return e.stop()}}),e)}))),lo.apply(this,arguments)}function co(e){return uo.apply(this,arguments)}function uo(){return uo=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,no;case 2:return e.abrupt("return",e.sent.get(ao,t));case 3:case"end":return e.stop()}}),e)}))),uo.apply(this,arguments)}function _o(e,t){return mo.apply(this,arguments)}function mo(){return mo=Object(c["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,no;case 2:return e.abrupt("return",e.sent.put(ao,r,t));case 3:case"end":return e.stop()}}),e)}))),mo.apply(this,arguments)}function fo(e){return po.apply(this,arguments)}function po(){return po=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,no;case 2:return e.abrupt("return",e.sent.delete(ao,t));case 3:case"end":return e.stop()}}),e)}))),po.apply(this,arguments)}function Eo(){return bo.apply(this,arguments)}function bo(){return bo=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,no;case 2:return e.abrupt("return",e.sent.clear(ao));case 3:case"end":return e.stop()}}),e)}))),bo.apply(this,arguments)}function ho(){return go.apply(this,arguments)}function go(){return go=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,no;case 2:return e.abrupt("return",e.sent.getAllKeys(ao));case 3:case"end":return e.stop()}}),e)}))),go.apply(this,arguments)}var vo={get:co,updateOrCreate:_o,del:fo,clear:Eo,keys:ho,all:oo},Oo=r("03e0"),yo=(r("2b3d"),r("9861"),r("841c"),r("8baf")),Ao="rgb(0, 0, 128)",Ro="/roadside-forms/",Co={generatePDF:function(e,t,r,i){var s=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,new Promise((function(a){console.log("inside generatePDF()",i);var n=new yo["a"]({orientation:e["orientation"],units:e["units"],format:e["format"],compress:!0}),o=0;s.buildPdfVariants(n,t,e,o,r).then((function(e){a(e.save(i))}))}));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})))()},buildPdfVariants:function(e,t,r,i,s){var a=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var o,l,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:o=Object(Xn["a"])(t),n.prev=1,o.s();case 3:if((l=o.n()).done){n.next=12;break}return c=l.value,console.log("A:",c,r["variants"][c],e),n.next=8,a.buildPages(e,r,c,i,s);case 8:e=n.sent,i++;case 10:n.next=3;break;case 12:n.next=17;break;case 14:n.prev=14,n.t0=n["catch"](1),o.e(n.t0);case 17:return n.prev=17,o.f(),n.finish(17);case 20:return n.abrupt("return",e);case 21:case"end":return n.stop()}}),n,null,[[1,14,17,20]])})))()},buildPages:function(e,t,r,i,s){var a=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var o,l,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:o=Object(Xn["a"])(t["variants"][r]["pages"]),n.prev=1,c=regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=l.value,console.log("doc",e),r.next=4,a.fetchCacheName(Ro+n["image"]["filename"]).then((function(e){return console.log("B - got response"),new URL(e.responseURL)})).then((function(e){console.log("C - URL_pathname",e.pathname+e.search);var t=new Image;return t.src=e.pathname+e.search,t})).then((function(t){return console.log("D - imgLogo",t),i>0&&e.addPage(),e.setPage(i+1),e.addImage(t,"PNG",n["image"]["offset_x"],n["image"]["offset_y"],n["image"]["width"],n["image"]["height"],"","FAST")})).then((function(e){return n["show_fields"].forEach((function(r){var i=t["fields"][r];console.log("field_definition",i,r),"label"===i["field_type"]&&e.text(i["value"],i["start"]["x"],i["start"]["y"]),s[r]&&(e.setTextColor(Ao),e.setFontSize(i["font_size"]),"text"===i["field_type"]&&e.text(s[r],i["start"]["x"],i["start"]["y"]),"checkbox"===i["field_type"]&&!0===s[r]&&e.text("X",i["start"]["x"],i["start"]["y"]),"memo"===i["field_type"]&&e.text(s[r],i["start"]["x"],i["start"]["y"],{maxWidth:i["max_width"],align:"justify"}))})),e})).then((function(){i++}));case 4:case"end":return r.stop()}}),r)})),o.s();case 4:if((l=o.n()).done){n.next=8;break}return n.delegateYield(c(),"t0",6);case 6:n.next=4;break;case 8:n.next=13;break;case 10:n.prev=10,n.t1=n["catch"](1),o.e(n.t1);case 13:return n.prev=13,o.f(),n.finish(13);case 16:return n.abrupt("return",e);case 17:case"end":return n.stop()}}),n,null,[[1,10,13,16]])})))()},downloadImage:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){console.log("URL_pathname",e.pathname+e.search);var r=new Image;r.src=e.pathname+e.search,r.onload=function(){t(r)}}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},fetchCacheName:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){var r=new XMLHttpRequest;try{r.open("GET",e,!0),r.onload=function(){console.log("fetchCacheName() - about to resolve"),t(r)},r.send()}catch(i){console.log("catch error",i)}}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()}},No={deleteSpecificForm:function(e,t){e.dispatch("deleteFormFromDB",t.form_id),e.commit("deleteForm",t),e.commit("stopEditingCurrentForm")},renewFormLeasesFromApiIfNecessary:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("inside renewFormLeasesFromApiIfNecessary()"),r=regeneratorRuntime.mark((function t(r){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=0;case 1:if(!(i<oe["a"].MAX_NUMBER_UNIQUE_ID_FETCH_ATTEMPTS)){t.next=7;break}return i++,t.next=5,e.dispatch("renewFormFromApiById",r.form_type,r.form_id).then((function(t){t&&(e.commit("pushFormToStore",t),e.dispatch("saveCurrentFormToDB",t))})).catch((function(e){console.log("Unable to renew form lease for "+r.form_id),console.log(e)}));case 5:t.next=1;break;case 7:case"end":return t.stop()}}),t)})),t.t0=regeneratorRuntime.keys(e.getters.arrayOfFormsRequiringRenewal);case 3:if((t.t1=t.t0()).done){t.next=8;break}return i=t.t1.value,t.delegateYield(r(i),"t2",6);case 6:t.next=3;break;case 8:case"end":return t.stop()}}),t)})))()},getMoreFormsFromApiIfNecessary:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("inside getMoreFormsFromApiIfNecessary()"),e.getters.getArrayOfAllFormNames.forEach((function(t){var r=0;while(e.getters.areNewUniqueIdsRequiredByType(t)&&r<oe["a"].MAX_NUMBER_UNIQUE_ID_FETCH_ATTEMPTS)r++,e.dispatch("getFormIdsFromApiByType",t).then((function(t){t&&(e.commit("pushFormToStore",t),e.dispatch("saveCurrentFormToDB",t))})).catch((function(e){console.log("Unable to retrieve UniqueIDs for "+t),console.log(e)}))}));case 2:case"end":return t.stop()}}),t)})))()},getFormIdsFromApiByType:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i=oe["a"].API_ROOT_URL+"/api/v1/forms/"+t,r.next=3,fetch(i,{method:"POST",headers:e.getters.apiHeader,credentials:"same-origin"}).then((function(e){return e.json()})).then((function(e){return{form_id:e.id,form_type:e.form_type,lease_expiry:e.lease_expiry,printed_timestamp:e.printed_timestamp}})).catch((function(e){console.log(e)}));case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}}),r)})))()},renewFormFromApiById:function(e,t,r){return Object(c["a"])(regeneratorRuntime.mark((function i(){var s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return console.log("inside renewFormFromApiById()"),s=oe["a"].API_ROOT_URL+"/api/v1/forms/"+t+"/"+r,i.next=4,fetch(s,{method:"PATCH",headers:e.getters.apiHeader,credentials:"same-origin"}).then((function(e){return e.json()})).then((function(e){return{form_id:e.id,form_type:e.form_type,lease_expiry:e.lease_expiry,printed_timestamp:e.printed_timestamp}})).catch((function(e){console.log(e)}));case 4:return i.abrupt("return",i.sent);case 5:case"end":return i.stop()}}),i)})))()},tellApiFormIsPrinted:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log("inside tellApiFormIsPrinted()",t),i=oe["a"].API_ROOT_URL+"/api/v1/forms/"+t.form_type+"/"+t.form_id,r.next=4,new Promise((function(r,s){fetch(i,{method:"PATCH",headers:e.getters.apiHeader,credentials:"same-origin",body:JSON.stringify(e.state.forms[t.form_type][t.form_id])}).then((function(e){return e.json()})).then((function(e){r(e)})).catch((function(e){console.log(e),s({error:e})}))}));case 4:return r.abrupt("return",r.sent);case 5:case"end":return r.stop()}}),r)})))()},lookupDriverFromICBC:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var i,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log("inside actions.js lookupDriverFromICBC(): "+t),i=t["dlNumber"],s=oe["a"].API_ROOT_URL+"/api/v1/icbc/drivers/"+i,r.next=5,new Promise((function(t,r){fetch(s,{method:"GET",headers:e.getters.apiHeader}).then((function(e){return e.json()})).then((function(i){console.log("data",i),"error"in i?r("message"in i["error"]?{description:i["error"].message}:{description:"No valid response"}):t(e.commit("populateDriverFromICBC",i))})).catch((function(e){e&&r("error"in e?e.error:{description:"No valid response"}),r({description:"Server did not respond"})}))}));case 5:return r.abrupt("return",r.sent);case 6:case"end":return r.stop()}}),r)})))()},lookupPlateFromICBC:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var i,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log("inside actions.js lookupPlateFromICBC(): "),console.log("icbcPayload",t),i=t["plateNumber"],s=oe["a"].API_ROOT_URL+"/api/v1/icbc/vehicles/"+i,r.next=6,new Promise((function(t,r){fetch(s,{method:"GET",headers:e.getters.apiHeader}).then((function(e){return e.json()})).then((function(i){console.log("data",i),"error"in i?r("description"in i["error"]?{description:i["error"].description}:{description:"No valid response"}):t(e.commit("populateVehicleFromICBC",i))})).catch((function(e){console.log("error",e),e&&r("message"in e?{description:e.message}:{description:"No valid response"}),r({description:"Server did not respond"})}))}));case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}}),r)})))()},fetchStaticLookupTables:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:i="",i=t.admin?oe["a"].API_ROOT_URL+"/api/v1/admin/"+t.resource:t.static?oe["a"].API_ROOT_URL+"/api/v1/static/"+t.resource:oe["a"].API_ROOT_URL+"/api/v1/"+t.resource,console.log("fetchStaticLookupTables()",i),fetch(i,{method:"GET",headers:e.getters.apiHeader}).then((function(e){return e.json()})).then((function(r){var i=t.admin?"admin_":"";e.commit("populateStaticLookupTables",{type:i+t.resource,data:r})})).catch((function(){console.log("fetchStaticLookupTables network fetch failed")}));case 4:case"end":return r.stop()}}),r)})))()},deleteFormFromDB:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,vo.del(t);case 2:case"end":return e.stop()}}),e)})))()},getAllFormsFromDB:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,vo.all().then((function(t){console.log("inside getAllFormsFromDB()",t),t.forEach((function(t){e.commit("pushFormToStore",t)}))}));case 2:case"end":return t.stop()}}),t)})))()},saveCurrentFormToDB:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(i=e.state.forms[t.form_type][t.form_id],!i){r.next=4;break}return r.next=4,vo.updateOrCreate(t.form_id,i);case 4:case"end":return r.stop()}}),r)})))()},createPDF:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise((function(r){console.log("inside createPDF()",t),e.dispatch("getPrintMappings",t.form_object).then((function(e){r(Co.generatePDF(Oo[t.form_object.form_type],t.variants,e,t.filename))}))})));case 1:case"end":return r.stop()}}),r)})))()},getPrintMappings:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise((function(r){var i=Array();i["VIOLATION_NUMBER"]=t.form_id,i["REASON_ALCOHOL_215"]=e.getters.getFormPrintRadioValue(t,"prohibition_type","Alcohol 215(2)"),i["REASON_DRUGS_215"]=e.getters.getFormPrintRadioValue(t,"prohibition_type","Drugs 215(3)"),i["REASON_ALCOHOL_90"]=e.getters.getFormPrintRadioValue(t,"prohibition_type_12hr","Alcohol 90.3(2)"),i["REASON_DRUGS_90"]=e.getters.getFormPrintRadioValue(t,"prohibition_type_12hr","Drugs 90.3(2.1)");var s=Ze()(e.getters.getFormDateTime(t,["prohibition_start_date","prohibition_start_time"]));i["NOTICE_TIME"]=s.format("HH:mm"),i["NOTICE_DAY"]=s.format("Do"),i["NOTICE_MONTH"]=s.format("MMMM"),i["NOTICE_YEAR"]=s.format("YYYY"),i["DL_SURRENDER_LOCATION"]=e.getters.getFormPrintValue(t,"offence_address")+", "+e.getters.getFormPrintValue(t,"offence_city"),i["OFFICER_BADGE_NUMBER"]=e.getters.getFormPrintValue(t,"badge_number"),i["AGENCY_NAME"]=e.getters.getFormPrintValue(t,"agency"),i["AGENCY_FILE_NUMBER"]=e.getters.getFormPrintValue(t,"file_number"),i["OFFICER_LAST_NAME"]=e.getters.getFormPrintValue(t,"officer_name"),e.getters.getFormPrintCheckedValue(t,"corporate_owner","Owned by corporate entity")?i["OWNER_NAME"]=e.getters.getFormPrintValue(t,"owners_corporation"):i["OWNER_NAME"]=e.getters.getFormPrintValue(t,"owners_last_name")+", "+e.getters.getFormPrintValue(t,"owners_first_name"),i["OWNER_ADDRESS"]=e.getters.getFormPrintValue(t,"owners_address1")+", "+e.getters.getFormPrintValue(t,"owners_city"),i["OWNER_PROVINCE"]=e.getters.getFormPrintValue(t,"owners_province"),i["OWNER_POSTAL_CODE"]=e.getters.getFormPrintValue(t,"owners_postal"),i["OWNER_PHONE_AREA_CODE"]=e.getters.getFormPrintValue(t,"owners_phone").substr(0,3);var a=e.getters.getFormPrintValue(t,"owners_phone");if(i["OWNER_PHONE_NUMBER"]=a.substr(3,3)+"-"+a.substr(6,9),i["VEHICLE_LICENSE_NUMBER"]=e.getters.getFormPrintValue(t,"plate_number"),i["VEHICLE_PROVINCE"]=e.getters.getFormPrintJurisdiction(t,"plate_province"),i["VEHICLE_LICENSE_YEAR"]=e.getters.getFormPrintValue(t,"plate_year"),i["VEHICLE_TAG_NUMBER"]=e.getters.getFormPrintValue(t,"plate_val_tag"),i["VEHICLE_REGISTRATION_NUMBER"]=e.getters.getFormPrintValue(t,"registration_number"),i["VEHICLE_TYPE"]=e.getters.getFormPrintValue(t,"vehicle_type"),i["VEHICLE_MAKE"]=e.getters.getFormPrintValue(t,"vehicle_make"),i["VEHICLE_MODEL"]=e.getters.getFormPrintValue(t,"vehicle_model"),i["VEHICLE_YEAR"]=e.getters.getFormPrintValue(t,"vehicle_year"),i["VEHICLE_COLOR"]=e.getters.getFormPrintValue(t,"vehicle_color"),i["VEHICLE_NSC_PUJ"]=e.getters.getFormPrintValue(t,"puj_code"),i["VEHICLE_NSC_NUMBER"]=e.getters.getFormPrintValue(t,"nsc_number"),i["VEHICLE_VIN"]=e.getters.getFormPrintValue(t,"vin_number"),i["NOT_IMPOUNDED"]=e.getters.getFormPrintRadioValue(t,"vehicle_impounded","No"),i["IMPOUNDED"]=e.getters.getFormPrintRadioValue(t,"vehicle_impounded","Yes"),i["IMPOUNDED"]){var n=e.getters.getFormPrintValue(t,"impound_lot_operator").split(", ");n.length>1&&(i["IMPOUNDED_LOT"]=n[0],i["IMPOUNDED_ADDRESS"]=n[1]+", "+n[2],i["IMPOUNDED_PHONE_AREA_CODE"]=n[3].substr(0,3),i["IMPOUNDED_PHONE_NUMBER"]=n[3].substr(4)),i["RELEASE_LOCATION_KEYS"]=e.getters.getFormPrintValue(t,"location_of_keys")}else i["NOT_IMPOUNDED_REASON"]=e.getters.getFormPrintValue(t,"reason_for_not_impounding"),i["RELEASE_PERSON"]=e.getters.getFormPrintValue(t,"vehicle_released_to"),i["RELEASE_DATETIME"]=e.getters.getFormDateTimeString(t,["released_date","released_time"]);i["RELEASE_LOCATION_VEHICLE"]=e.getters.locationOfVehicle(t),i["DRIVER_SURNAME"]=e.getters.getFormPrintValue(t,"last_name"),i["DRIVER_GIVEN"]=e.getters.getFormPrintValue(t,"first_name"),i["DRIVER_DL_NUMBER"]=e.getters.getFormPrintValue(t,"drivers_number"),i["DRIVER_DL_PROVINCE"]=e.getters.getFormPrintJurisdiction(t,"drivers_licence_jurisdiction"),i["DRIVER_PHONE_AREA_CODE"]=e.getters.getFormPrintValue(t,"driver_phone").substr(0,3),i["DRIVER_PHONE"]=e.getters.getFormPrintValue(t,"driver_phone").substr(3);var o=Ze()(e.getters.getFormPrintValue(t,"dob"));i["DRIVER_DOB"]=o.format("YYYY MM DD"),i["DRIVER_ADDRESS"]=e.getters.getFormPrintValue(t,"address1")+", "+e.getters.getFormPrintValue(t,"city")+", "+e.getters.getFormPrintValue(t,"province")+", "+e.getters.getFormPrintValue(t,"postal"),i["DRIVER_WITNESSED_BY_OFFICER"]=e.getters.getFormPrintCheckedValue(t,"operating_grounds","Witnessed by officer"),i["DRIVER_INDEPENDENT_WITNESS"]=e.getters.getFormPrintCheckedValue(t,"operating_grounds","Independent witness"),i["DRIVER_ADMISSION_BY_DRIVER"]=e.getters.getFormPrintCheckedValue(t,"operating_grounds","Admission by driver");var l=e.getters.getFormPrintCheckedValue(t,"operating_grounds","Video surveillance"),c=e.getters.getFormPrintCheckedValue(t,"operating_grounds","Other");i["DRIVER_OTHER"]=c,c||l?(i["DRIVER_ADDITIONAL_INFORMATION"]="ADDITIONAL INFORMATION:",l&&(i["DRIVER_ADDITIONAL_INFORMATION"]+=" VIDEO SURVEILLANCE. "),i["DRIVER_ADDITIONAL_INFORMATION"]+=e.getters.getFormPrintValue(t,"operating_ground_other")):i["DRIVER_ADDITIONAL_INFORMATION"]="",i["REASONABLE_GROUNDS_YES"]=e.getters.getFormPrintCheckedValue(t,"prescribed_device","Yes"),i["REASONABLE_GROUNDS_NO"]=e.getters.getFormPrintCheckedValue(t,"prescribed_device","No"),i["REASON_PRESCRIBED_TEST_NOT_USED"]=e.getters.getFormPrintValue(t,"reason_prescribed_test_not_used");var d=[];if(e.getters.getFormPrintCheckedValue(t,"test_administered_sfst","Prescribed Physical Coordination Test (SFST)")&&(d.push("SFST"),i["REASONABLE_GROUNDS_TEST_PHYSICAL_COORDINATION"]=!0),i["REASON_ALCOHOL_215"]&&(i["REASONABLE_GROUNDS_TEST_ALCO_SENSOR"]=e.getters.getFormPrintCheckedValue(t,"test_administered_asd","Alco-Sensor FST (ASD)"),i["REASONABLE_GROUNDS_TEST_ALCO_SENSOR"]&&(i["REASONABLE_GROUNDS_TEST_ASD_EXPIRY_DATE"]=e.getters.getFormPrintValue(t,"asd_expiry_date"),i["REASONABLE_GROUNDS_ALCOHOL_51-99"]=e.getters.getFormPrintCheckedValue(t,"result_alcohol","51-99 mg%"),i["REASONABLE_GROUNDS_ALCOHOL_OVER_99"]=e.getters.getFormPrintCheckedValue(t,"result_alcohol","Over 99 mg%")),i["REASONABLE_GROUNDS_TEST_TIME"]=e.getters.getFormDateTimeString(t,["test_date","test_time"]),i["REASONABLE_GROUNDS_TEST_APPROVED_INSTRUMENT"]=e.getters.getFormPrintCheckedValue(t,"test_administered_instrument","Approved Instrument"),i["REASONABLE_GROUNDS_TEST_APPROVED_INSTRUMENT"]&&(i["REASONABLE_GROUNDS_TEST_APPROVED_INSTRUMENT_SPECIFY"]="Intox EC/IR II",i["REASONABLE_GROUNDS_ALCOHOL_BAC"]=!0,i["REASONABLE_GROUNDS_ALCOHOL_BAC_VALUE"]=e.getters.getFormPrintValue(t,"test_result_bac")+" mg%")),i["REASON_DRUGS_215"]){if(i["REASONABLE_GROUNDS_TEST_TIME"]=e.getters.getFormDateTimeString(t,["test_date","test_time"]),e.getters.getFormPrintCheckedValue(t,"test_administered_adse","Approved Drug Screening Equipment")){i["REASONABLE_GROUNDS_TEST_APPROVED_INSTRUMENT"]=!0,i["REASONABLE_GROUNDS_TEST_APPROVED_INSTRUMENT_SPECIFY"]="ADSE";var u=e.getters.getFormPrintValue(t,"positive_adse");u&&(i["ADSE_RESULTS"]=u.join(" and "))}e.getters.getFormPrintCheckedValue(t,"test_administered_dre","Prescribed Physical Coordination Test (DRE)")&&(d.push("DRE"),i["REASONABLE_GROUNDS_TEST_PHYSICAL_COORDINATION"]=!0),i["PHYSICAL_TEST_SPECIFICS"]=d.join(" and "),i["REASONABLE_GROUNDS_DRUG_ABILITY_TO_DRIVE_AFFECTED"]=!0}r(i)})));case 1:case"end":return r.stop()}}),r)})))()},applyToUnlockApplication:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log("inside actions.js applyToUnlockApplication(): "),i=oe["a"].API_ROOT_URL+"/api/v1/users",r.next=4,new Promise((function(r,s){fetch(i,{method:"POST",body:JSON.stringify(t),headers:e.getters.apiHeader}).then((function(e){return e})).then((function(t){var i=t.json();201===t.status?(console.log("applyToUnlockApplication() - success",i),r(i),i.then((function(t){e.commit("pushInitialUserRole",t)}))):s(i)})).catch((function(e){console.log("error",e),e&&s("message"in e?{description:e.message}:{description:"No valid response"}),s({description:"Server did not respond"})}))}));case 4:return r.abrupt("return",r.sent);case 5:case"end":return r.stop()}}),r)})))()},adminApproveUserRole:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log("inside actions.js adminApproveUserRole(): "),i=oe["a"].API_ROOT_URL+"/api/v1/admin/users/"+t.user_guid+"/roles/officer",r.next=4,new Promise((function(r,s){fetch(i,{method:"PATCH",headers:e.getters.apiHeader}).then((function(e){if(200===e.status)return e.json()})).then((function(i){t.role_name=i.role_name,t.approved_dt=i.approved_dt,t.submitted_dt=i.submitted_dt,r(e.commit("updateAdminUserRole",t))})).catch((function(e){console.log("error",e),e&&s("message"in e?{description:e.message}:{description:"No valid response"}),s({description:"Server did not respond"})}))}));case 4:return r.abrupt("return",r.sent);case 5:case"end":return r.stop()}}),r)})))()},adminDeleteUserRole:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log("inside actions.js adminDeleteUserRole(): ",t),i=oe["a"].API_ROOT_URL+"/api/v1/admin/users/"+t.user_guid+"/roles/"+t.role_name,r.next=4,new Promise((function(r,s){fetch(i,{method:"DELETE",headers:e.getters.apiHeader}).then((function(i){console.log(i),200===i.status&&r(e.commit("deleteAdminUserRole",t))})).catch((function(e){console.log("error",e),e&&s("message"in e?{description:e.message}:{description:"No valid response"}),s({description:"Server did not respond"})}))}));case 4:return r.abrupt("return",r.sent);case 5:case"end":return r.stop()}}),r)})))()},adminAddUserRole:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var i,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log("inside actions.js adminAddUserRole()",t),i=oe["a"].API_ROOT_URL+"/api/v1/admin/users/"+t.user_guid+"/roles",s={role_name:"administrator"},r.next=5,new Promise((function(r,a){fetch(i,{method:"POST",body:JSON.stringify(s),headers:e.getters.apiHeader}).then((function(e){if(200===e.status)return e.json()})).then((function(){return r(e.commit("addAdminUserRole",{username:t.username,user_guid:t.user_guid,first_name:t.first_name,last_name:t.last_name,badge_number:t.badge_number,agency:t.agency,role_name:s.role_name,approved_dt:Ze()().tz("America/Vancouver"),submitted_dt:Ze()().tz("America/Vancouver")}))})).catch((function(e){return console.log("error",e),a(e?"message"in e?{description:e.message}:{description:"No valid response"}:{description:"Server did not respond"})}))}));case 5:return r.abrupt("return",r.sent);case 6:case"end":return r.stop()}}),r)})))()},saveFormAndGeneratePDF:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var i,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i=Ze.a.now(),console.log("inside saveFormAndGeneratePDF()",i),s={},s["form_object"]=t,s["filename"]=e.getters.getPdfFileNameString(t,"all"),s["variants"]=e.getters.getPagesToPrint(t),s["timestamp"]=i,r.next=9,e.dispatch("createPDF",s).then((function(){e.commit("setFormAsPrinted",s),e.dispatch("saveCurrentFormToDB",t)}));case 9:return r.next=11,e.dispatch("tellApiFormIsPrinted",t).then((function(e){return console.log("response from tellApiFormIsPrinted()",e),e})).catch((function(e){return console.log("no response from tellApiFormIsPrinted()",e),e}));case 11:case"end":return r.stop()}}),r)})))()},downloadLookupTables:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.dispatch("fetchStaticLookupTables",{resource:"agencies",admin:!1,static:!0});case 2:return t.next=4,e.dispatch("fetchStaticLookupTables",{resource:"impound_lot_operators",admin:!1,static:!0});case 4:return t.next=6,e.dispatch("fetchStaticLookupTables",{resource:"countries",admin:!1,static:!0});case 6:return t.next=8,e.dispatch("fetchStaticLookupTables",{resource:"jurisdictions",admin:!1,static:!0});case 8:return t.next=10,e.dispatch("fetchStaticLookupTables",{resource:"provinces",admin:!1,static:!0});case 10:return t.next=12,e.dispatch("fetchStaticLookupTables",{resource:"cities",admin:!1,static:!0});case 12:return t.next=14,e.dispatch("fetchStaticLookupTables",{resource:"colors",admin:!1,static:!0});case 14:return t.next=16,e.dispatch("fetchStaticLookupTables",{resource:"vehicles",admin:!1,static:!0});case 16:return t.next=18,e.dispatch("fetchStaticLookupTables",{resource:"vehicle_styles",admin:!1,static:!0});case 18:case"end":return t.stop()}}),t)})))()},updateRichCheckBox:function(e,t){console.log("inside updateRichCheckBox()",t),t.event.checked?e.commit("addItemToCheckboxList",t):e.commit("removeItemFromCheckboxList",t)}},Do=(r("c740"),{editExistingForm:function(e,t){d["default"].set(e.currently_editing_form_object,"form_id",t.form_id),d["default"].set(e.currently_editing_form_object,"form_type",t.form_type)},updateFormField:function(e,t){var r=t.target.id,i=t.target.value,s=e.currently_editing_form_object;d["default"].set(e.forms[s.form_type][s.form_id].data,r,i)},addItemToCheckboxList:function(e,t){console.log("inside addItemToCheckboxList()",e,t);var r=e.forms[t.form_object.form_type][t.form_object.form_id].data,i={id:t.event.id,value:t.event.value};t.id in r?r[t.id].push(i):r[t.id]=[i]},removeItemFromCheckboxList:function(e,t){console.log("inside removeItemFromCheckboxList()",e,t);var r=e.forms[t.form_object.form_type][t.form_object.form_id].data,i={id:t.event.id,value:t.event.value},s=r[t.id].indexOf(i);r[t.id].splice(s,1)},updateCheckBox:function(e,t){var r=t.target.id,i=t.target.value,s=e.currently_editing_form_object,a=e.forms[s.form_type][s.form_id].data;if(a[r])if(a[r].includes(i)&&"object"===Object(Ji["a"])(a[r])){var n=a[r].indexOf(i);a[r].splice(n,1)}else a[r].push(i);else d["default"].set(a,r,[i])},deleteForm:function(e,t){d["default"].delete(e.forms[t.form_type][t.form_id],"data")},stopEditingCurrentForm:function(e){e.currently_editing_form_object.form_type=null,e.currently_editing_form_object.form_id=null},markFormStatusAsServed:function(e,t){var r=e.currently_editing_form_object;d["default"].set(e.forms[r.form_type][r.form_id],"printed_timestamp",t)},setNewFormDefaults:function(e,t){console.log("inside setNewFormDefaults()",t);var r=e.forms[t.form_type][t.form_id];if(!("data"in r))for(var i in d["default"].set(r,"data",Object()),d["default"].set(r.data,"submitted",!1),e.form_schemas.forms[t.form_type])d["default"].set(r,i,e.form_schemas.forms[t.form_type][i]);e.keycloak.idTokenParsed&&(d["default"].set(r.data,"logged_in_user",e.keycloak.idTokenParsed.preferred_username),d["default"].set(r.data,"officer_name",e.users.last_name),d["default"].set(r.data,"agency",e.users.agency),d["default"].set(r.data,"badge_number",e.users.badge_number))},populateStaticLookupTables:function(e,t){d["default"].set(e,t.type,t.data)},populateDriverFromICBC:function(e,t){var r=e.currently_editing_form_object,i=t["party"]["addresses"][0];d["default"].set(e.forms[r.form_type][r.form_id].data,"drivers_number",t["dlNumber"]),d["default"].set(e.forms[r.form_type][r.form_id].data,"last_name",t["party"]["lastName"]),d["default"].set(e.forms[r.form_type][r.form_id].data,"first_name",t["party"]["firstName"]),d["default"].set(e.forms[r.form_type][r.form_id].data,"address1",i["addressLine1"]),d["default"].set(e.forms[r.form_type][r.form_id].data,"city",i["city"]),d["default"].set(e.forms[r.form_type][r.form_id].data,"province",i["region"]),d["default"].set(e.forms[r.form_type][r.form_id].data,"postal",i["postalCode"]);var s=t["birthDate"].split("-").join("");d["default"].set(e.forms[r.form_type][r.form_id].data,"dob",s)},saveICBCVehicleToStore:function(e,t){d["default"].set(e,"icbc_vehicle_lookup",t)},populateVehicleFromICBC:function(e,t){var r=t[0],i=e.currently_editing_form_object;d["default"].set(e.forms[i.form_type][i.form_id].data,"registration_number",r["registrationNumber"]),d["default"].set(e.forms[i.form_type][i.form_id].data,"vehicle_year",r["vehicleModelYear"]),d["default"].set(e.forms[i.form_type][i.form_id].data,"vehicle_make",r["vehicleMake"]),d["default"].set(e.forms[i.form_type][i.form_id].data,"vehicle_model",r["vehicleModel"]),d["default"].set(e.forms[i.form_type][i.form_id].data,"vehicle_type",r["vehicleStyle"].substring(0,6)),d["default"].set(e.forms[i.form_type][i.form_id].data,"vehicle_color",r["vehicleColour"]),d["default"].set(e.forms[i.form_type][i.form_id].data,"vin_number",r["vehicleIdNumber"]);var s=r["vehicleParties"][0]["party"],a=s["addresses"][0];"Organisation"===s.partyType?(d["default"].set(e.forms[i.form_type][i.form_id].data,"corporate_owner",["Owned by corporate entity"]),d["default"].set(e.forms[i.form_type][i.form_id].data,"owners_corporation",s["orgName"])):(d["default"].set(e.forms[i.form_type][i.form_id].data,"owners_last_name",s["lastName"]),d["default"].set(e.forms[i.form_type][i.form_id].data,"owners_first_name",s["firstName"])),d["default"].set(e.forms[i.form_type][i.form_id].data,"owner_is_driver",[]),d["default"].set(e.forms[i.form_type][i.form_id].data,"owners_address1",a["addressLine1"]),d["default"].set(e.forms[i.form_type][i.form_id].data,"owners_city",a["city"]),d["default"].set(e.forms[i.form_type][i.form_id].data,"owners_province",a["region"]),d["default"].set(e.forms[i.form_type][i.form_id].data,"owners_postal",a["postalCode"])},populateOwnerFromDriver:function(e){var t=e.currently_editing_form_object,r=e.forms[t.form_type][t.form_id].data;d["default"].set(e.forms[t.form_type][t.form_id].data,"owners_last_name",r.last_name),d["default"].set(e.forms[t.form_type][t.form_id].data,"owners_first_name",r.first_name),d["default"].set(e.forms[t.form_type][t.form_id].data,"owners_address1",r.address1),d["default"].set(e.forms[t.form_type][t.form_id].data,"owners_city",r.city),d["default"].set(e.forms[t.form_type][t.form_id].data,"owners_province",r.province),d["default"].set(e.forms[t.form_type][t.form_id].data,"owners_postal",r.postal)},pushFormToStore:function(e,t){console.log("inside pushFormToStore()",t),d["default"].set(e.forms[t.form_type],t.form_id,t)},setKeycloak:function(e,t){d["default"].set(e,"keycloak",t)},setFormAsPrinted:function(e,t){var r=e.forms[t.form_object.form_type][t.form_object.form_id];d["default"].set(r,"printed_timestamp",t.timestamp)},updateAdminUserRole:function(e,t){var r=e.admin_users.findIndex((function(e){return e.user_guid===t.user_guid&&e.role_name===t.role_name}));d["default"].set(e.admin_users,r,t)},deleteAdminUserRole:function(e,t){var r=e.admin_users.findIndex((function(e){return e.user_guid===t.user_guid&&e.role_name===t.role_name}));d["default"].delete(e.admin_users,r)},addAdminUserRole:function(e,t){e.admin_users.push(t)},pushInitialUserRole:function(e,t){d["default"].set(e,"user_roles",[t])},networkIsOnline:function(e){d["default"].set(e,"isOnline",!0)},networkIsOffline:function(e){d["default"].set(e,"isOnline",!1)},populateDriverFromBarCode:function(e,t){console.log("inside populateDriverFromBarCode()",t);var r=e.currently_editing_form_object;d["default"].set(e.forms[r.form_type][r.form_id].data,"drivers_number",t["number"]),d["default"].set(e.forms[r.form_type][r.form_id].data,"address1",t["address"]["street"]),d["default"].set(e.forms[r.form_type][r.form_id].data,"city",t["address"]["city"]),d["default"].set(e.forms[r.form_type][r.form_id].data,"province",t["address"]["province"]),d["default"].set(e.forms[r.form_type][r.form_id].data,"postal",t["address"]["postalCode"]),d["default"].set(e.forms[r.form_type][r.form_id].data,"dob",t["dob"]),d["default"].set(e.forms[r.form_type][r.form_id].data,"first_name",t["name"]["given"]),d["default"].set(e.forms[r.form_type][r.form_id].data,"last_name",t["name"]["surname"])}}),Io=r("9224"),xo=[function(e){window.addEventListener("online",Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.commit("networkIsOnline"),console.log("Network is online");case 2:case"end":return t.stop()}}),t)})))),window.addEventListener("offline",Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.commit("networkIsOffline"),console.log("Network is offline");case 2:case"end":return t.stop()}}),t)}))))}];d["default"].use(u["a"]);var So=new u["a"].Store({state:{admin_users:{},agencies:[],db_ready:!1,cities:[],colors:[],countries:[],currently_editing_form_object:{form_type:null,form_id:null},forms:{IRP:{},"24Hour":{},"12Hour":{},VI:{}},form_schemas:{forms:{"12Hour":{component:"TwelveHourProhibition",form_type:"12Hour",label:"12-Hour",description:"12-Hour Driving Suspension",full_name:"MV2906",documents:{all:{name:"All Copies",variants:["icbc","driver","police"]}},disabled:!1},"24Hour":{component:"TwentyFourHourProhibition",form_type:"24Hour",label:"24-Hour",description:"24-Hour Prohibition",full_name:"MV2634",documents:{all:{name:"All Copies",variants:["icbc","driver","ilo","police"]}},disabled:!1},VI:{component:"VehicleImpoundment",form_type:"VI",label:"VI",description:"Vehicle Impoundment",full_name:"MV2721",documents:{all:{name:"All Copies",variants:["driver","ilo","police"]}},disabled:!0},IRP:{component:"ImmediateRoadsideProhibition",form_type:"IRP",label:"IRP",description:"Immediate Roadside Prohibition",full_name:"MV2723",documents:{},disabled:!0}}},icbc_vehicle_lookup:[],impound_lot_operators:[],isOnline:!0,jurisdictions:[],keycloak:{},pickup_locations:[],provinces:[],user_roles:{},users:{},vehicles:[],vehicle_styles:[],version:Io["a"]},getters:eo,mutations:Do,actions:No,plugins:xo}),To=r("9483");Object(To["a"])("".concat("/roadside-forms/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(e){console.log("New version of app is available - reloading app automatically"),document.dispatchEvent(new CustomEvent("swUpdated",{detail:e}))},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),d["default"].use(u["a"]),d["default"].use(U["a"]),d["default"].use(k["a"]),d["default"].use(M["a"]),r("1f68"),d["default"].component("ValidationProvider",B["b"]),d["default"].config.productionTip=!1,d["default"].use(Y.a,{init:{onLoad:"check-sso",pkceMethod:"S256"},config:oe["a"].API_ROOT_URL+"/api/v1/static/keycloak",onReady:function(){So.commit("setKeycloak",d["default"].prototype.$keycloak)}}),new d["default"]({router:Zn,store:So,created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,So.dispatch("getAllFormsFromDB");case 2:return t.next=4,So.dispatch("downloadLookupTables");case 4:e.$store.subscribe((function(e){"setKeycloak"===e.type&&(So.dispatch("getMoreFormsFromApiIfNecessary"),So.dispatch("fetchStaticLookupTables",{resource:"user_roles",admin:!1,static:!1}),So.dispatch("fetchStaticLookupTables",{resource:"users",admin:!1,static:!1})),"updateFormField"!==e.type&&"updateCheckBox"!==e.type&&"populateDriverFromICBC"!==e.type&&"populateVehicleFromICBC"!==e.type&&"typeAheadUpdate"!==e.type||So.dispatch("saveCurrentFormToDB",So.state.currently_editing_form_object)}));case 5:case"end":return t.stop()}}),t)})))()},render:function(e){return e(F)}}).$mount("#app")},"630a":function(e,t,r){"use strict";var i=r("c1df"),s=r.n(i);t["a"]={API_ROOT_URL:"/roadside-forms",UNIQUE_ID_REFRESH_DAYS:15,MINIMUM_NUMBER_OF_UNIQUE_IDS_PER_TYPE:10,MAX_NUMBER_UNIQUE_ID_FETCH_ATTEMPTS:2,MIN_VEHICLE_YEAR:1920,MAX_VEHICLE_YEAR:s()().format("YYYY")+1,TIMEZONE:"America/Vancouver",ROAD_SAFETY_CONTACT:"RSIOpsSupport"}},"717f":function(e,t,r){"use strict";r("7de6")},"7de6":function(e,t,r){},"85ec":function(e,t,r){},9224:function(e){e.exports=JSON.parse('{"a":"0.2.9"}')},a30e:function(e,t,r){"use strict";r("e9f8")},ab79:function(e,t,r){},c500:function(e,t,r){"use strict";r("41bf")},cd75:function(e,t,r){"use strict";r("ab79")},dcb3:function(e,t,r){},e9f8:function(e,t,r){}});
//# sourceMappingURL=app.0f0661c6.js.map